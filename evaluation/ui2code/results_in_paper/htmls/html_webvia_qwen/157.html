<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>班级点名系统</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-100">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        function App() {
            const [students, setStudents] = useState([
                { id: '001', name: '张三', class: '一班', status: '正常', type: 'normal' },
                { id: '002', name: '李四', class: '一班', status: '正常', type: 'normal' },
                { id: '003', name: '王五', class: '一班', status: '请假', type: 'leave' },
                { id: '004', name: '赵六', class: '二班', status: '正常', type: 'normal' },
                { id: '005', name: '钱七', class: '二班', status: '迟到', type: 'late' }
            ]);

            const [showAddModal, setShowAddModal] = useState(false);
            const [showSuccessMessage, setShowSuccessMessage] = useState(false);
            const [newStudent, setNewStudent] = useState({
                id: '',
                name: '',
                class: '',
                status: '正常'
            });

            const getStatusColor = (status) => {
                switch(status) {
                    case '正常': return 'bg-green-500 text-white';
                    case '请假': return 'bg-yellow-500 text-white';
                    case '迟到': return 'bg-red-500 text-white';
                    default: return 'bg-blue-500 text-white';
                }
            };

            const totalStudents = students.length;
            const presentStudents = students.filter(s => s.status === '正常').length;
            const absentStudents = totalStudents - presentStudents;
            const presentRate = Math.round((presentStudents / totalStudents) * 100);

            const handleAddStudent = () => {
                if (newStudent.id && newStudent.name && newStudent.class) {
                    const student = {
                        id: newStudent.id,
                        name: newStudent.name,
                        class: newStudent.class,
                        status: newStudent.status,
                        type: 'normal'
                    };
                    setStudents([...students, student]);
                    setShowAddModal(false);
                    setNewStudent({ id: '', name: '', class: '', status: '正常' });
                    setShowSuccessMessage(true);
                    
                    setTimeout(() => {
                        setShowSuccessMessage(false);
                    }, 3000);
                }
            };

            return (
                <div className="min-h-screen bg-gray-100">
                    {/* 导入图标 */}
                    <svg className="absolute top-5 left-5 opacity-0" width="0" height="0">
                        <use xlinkHref="#icon-users" />
                        <use xlinkHref="#icon-clock" />
                        <use xlinkHref="#icon-eye" />
                        <use xlinkHref="#icon-user" />
                        <use xlinkHref="#icon-file" />
                        <use xlinkHref="#icon-table" />
                        <use xlinkHref="#icon-cog" />
                        <use xlinkHref="#icon-info" />
                    </svg>

                    <div className="flex h-screen bg-gray-100">
                        {/* 左侧边栏 */}
                        <div className="w-64 bg-white mt-16 pt-8 pb-20 px-4">
                            <h2 className="text-lg font-medium text-gray-800 mb-8">班级点名系统</h2>
                            
                            <div className="mt-6">
                                <h3 className="text-sm font-medium text-gray-600 mb-4">用户管理</h3>
                                
                                <div className="bg-blue-500 text-white px-3 py-2 rounded text-sm inline-block mb-1">
                                    <i className="fas fa-users mr-1"></i> 学生管理
                                </div>
                            </div>

                            <nav className="mt-6 space-y-2">
                                <button 
                                    onClick={() => setShowAddModal(true)}
                                    className="w-full text-left px-3 py-2 bg-blue-500 text-white rounded wmin200 hover:bg-blue-600 flex items-center"
                                >
                                    <i className="fas fa-plus mr-3 w-5"></i> 管理学生
                                </button>
                                
                                <button className="w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded flex items-center">
                                    <i className="fas fa-bullhorn mr-3 w-5"></i> 公告管理
                                </button>
                                
                                <button className="w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded flex items-center">
                                    <i className="fas fa-list mr-3 w-5"></i> 点名记录
                                </button>
                                
                                <button className="w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded flex items-center">
                                    <i className="fas fa-cog mr-3 w-5"></i> 系统设置
                                </button>
                            </nav>
                        </div>

                        {/* 主内容区域 */}
                        <div className="flex-1 flex bg-white">
                            {/* 主内容 */}
                            <div className="flex-1 mt-16">
                                {/* 状态栏 */}
                                <div className="border-b border-gray-200 bg-white">
                                    <div className="flex items-center px-6 py-3">
                                        <i className="fas fa-graduation-cap text-blue-500 mr-2"></i>
                                        <span className="text-gray-700">日常点名</span>
                                        <i className="fas fa-chevron-right text-gray-400 mx-4"></i>
                                        <span className="text-gray-600">课业统计</span>
                                        <i className="fas fa-chevron-right text-gray-400 mx-4"></i>
                                        <span className="text-gray-600">点名记录</span>
                                    </div>
                                </div>

                                <div className="p-6 space-y-6">
                                    {/* 学生管理标题 */}
                                    <div className="flex items-center justify-between">
                                        <h2 className="text-xl font-semibold text-gray-800 flex items-center">
                                            <i className="fas fa-users text-blue-500 mr-3 w-6"></i>
                                            学生管理
                                        </h2>
                                        <button 
                                            onClick={() => setShowAddModal(true)}
                                            className="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center text-sm"
                                        >
                                            <i className="fas fa-plus mr-2 w-4"></i>
                                            添加学生
                                        </button>
                                    </div>

                                    {/* 成功消息 */}
                                    {showSuccessMessage && (
                                        <div className="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded relative">
                                            <div className="flex items-center">
                                                <i className="fas fa-info-circle mr-2"></i>
                                                <span>学生添加成功！</span>
                                            </div>
                                            <span className="float-right text-sm text-blue-600">5秒后自融...</span>
                                        </div>
                                    )}

                                    {/* 统计数据 */}
                                    <div className="border-l-4 border-blue-500 bg-blue-50 p-4 rounded space-y-2">
                                        <div className="flex items-center">
                                            <i className="fas fa-users text-blue-500 mr-2"></i>
                                            <span className="font-medium text-gray-700">总学生数:</span>
                                            <span className="font-bold text-blue-600 ml-2">6</span>
                                        </div>
                                        <div className="flex items-center">
                                            <i className="fas fa-check-circle text-green-500 mr-2"></i>
                                            <span className="font-medium text-gray-700">出勤学生:</span>
                                            <span className="font-bold text-green-600 ml-2">4</span>
                                        </div>
                                        <div className="flex items-center">
                                            <i className="fas fa-exclamation-triangle text-yellow-500 mr-2"></i>
                                            <span className="font-medium text-gray-700">缺勤学生:</span>
                                            <span className="font-bold text-yellow-600 ml-2">2</span>
                                        </div>
                                        <div className="flex items-center">
                                            <i className="fas fa-chart-line text-purple-500 mr-2"></i>
                                            <span className="font-medium text-gray-700">出勤率:</span>
                                            <span className="font-bold text-purple-600 ml-2">{presentRate}%</span>
                                        </div>
                                    </div>

                                    {/* 学生列表 */}
                                    <div className="bg-gray-50 rounded-lg overflow-hidden">
                                        <div className="bg-gray-100 px-4 py-3 text-sm border-b">
                                            <span className="font-medium text-gray-700">学生列表</span>
                                            <div className="float-right">可编辑、删除学生记录</div>
                                        </div>
                                        
                                        <div className="overflow-x-auto">
                                            <table className="w-full">
                                                <thead className="bg-gray-50">
                                                    <tr>
                                                        <th className="px-4 py-3 text-left text-sm font-medium text-gray-500">学号</th>
                                                        <th className="px-4 py-3 text-left text-sm font-medium text-gray-500">姓名</th>
                                                        <th className="px-4 py-3 text-left text-sm font-medium text-gray-500">班级</th>
                                                        <th className="px-4 py-3 text-left text-sm font-medium text-gray-500">状态</th>
                                                        <th className="px-4 py-3 text-left text-sm font-medium text-gray-500">操作</th>
                                                    </tr>
                                                </thead>
                                                <tbody className="divide-y divide-gray-200">
                                                    {students.map((student, index) => (
                                                        <tr key={student.id} className="hover:bg-gray-50">
                                                            <td className="px-4 py-3 text-sm text-gray-900">{student.id}</td>
                                                            <td className="px-4 py-3 text-sm text-gray-900">{student.name}</td>
                                                            <td className="px-4 py-3 text-sm text-blue-600">{student.class}</td>
                                                            <td className="px-4 py-3 text-sm">
                                                                <span className={`inline-block px-2 py-1 text-xs rounded-full ${getStatusColor(student.status)}`}>
                                                                    {student.status}
                                                                </span>
                                                            </td>
                                                            <td className="px-4 py-3 text-sm">
                                                                <div className="flex space-x-2">
                                                                    <button className="bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded text-xs flex items-center">
                                                                        <i className="fas fa-edit mr-1"></i>
                                                                        编辑
                                                                    </button>
                                                                    <button className="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-xs">
                                                                        删除
                                                                    </button>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    ))}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    {/* 使用提示 */}
                                    <div className="p-3 text-sm text-blue-600 bg-blue-50 rounded">
                                        <i className="fas fa-info-circle mr-2"></i>
                                        点击学生记录可查看详情，支持快速操作
                                    </div>
                                </div>
                            </div>

                            {/* 左侧边栏内容 */}
                            <div className="w-80 bg-white mt-16 p-6 space-y-6">
                                {/* 数据统计 */}
                                <div className="bg-white rounded-lg p-4">
                                    <div className="flex items-center justify-between mb-4">
                                        <h3 className="font-medium text-gray-800 flex items-center">
                                            <i className="fas fa-chart-pie text-green-500 mr-2 w-5"></i>
                                            数据统计
                                        </h3>
                                        <i className="fas fa-chevron-up text-gray-400"></i>
                                    </div>
                                    
                                    <div className="text-center">
                                        <div className="relative w-32 h-32 mx-auto mb-4">
                                            <svg className="w-32 h-32 transform -rotate-90" viewBox="0 0 100 100">
                                                <circle cx="50" cy="50" r="40" fill="none" stroke="#e5e7eb" strokeWidth="8"/>
                                                <circle cx="50" cy="50" r="40" fill="none" stroke="#10b981" strokeWidth="8" 
                                                    strokeDasharray={`${presentRate * 2.51} 251`} 
                                                    strokeLinecap="round" 
                                                    transform="rotate(-90 50 50)" />
                                            </svg>
                                            <div className="absolute inset-0 flex items-center justify-center">
                                                <div className="text-2xl font-bold text-green-600">{presentRate}%</div>
                                            </div>
                                        </div>
                                        <div className="text-sm text-gray-600">
                                            <div className="flex items-center justify-center mb-1">
                                                <span className="text-green-500 mr-2">✅</span>
                                                <span>出勤率</span>
                                            </div>
                                            <div className="text-xs">
                                                出勤：{totalStudents - absentStudents}
                                            </div>
                                        </div>
                                    </div>

                                    {/* 数据趋势 */}
                                    <div className="mt-4">
                                        <h4 className="font-medium text-gray-700 mb-3">上周出勤趋势</h4>
                                        <div className="h-32 bg-gray-50 rounded border flex items-end justify-between px-2">
                                            {[45, 42, 38, 46, 41, 35, 28].map((height, idx) => (
                                                <div key={idx} className="flex flex-col items-center relative">
                                                    <div 
                                                        className="w-3 bg-blue-500 rounded-t"
                                                        style={{ height: `${height}px` }}
                                                    ></div>
                                                    <span className="text-xs text-gray-600 mt-1">{totalStudents - idx}</span>
                                                </div>
                                            ))}
                                        </div>
                                        <div className="flex space-x-1 mt-2">
                                            {[
                                                { day: '周一', pos: '3', height: 50 },
                                                { day: '周二', pos: '4', height: 45 },
                                                { day: '周三', pos: '5', height: 42 },
                                                { day: '周四', pos: '6', height: 38 },
                                                { day: '周五', pos: '7', height: 46 },
                                                { day: '周六', pos: '4', height: 41 },
                                                { day: '周日', pos: '5', height: 35 },
                                                { day: '下周一', pos: '4', height: 28 }
                                            ].map((item, idx) => (
                                                <div key={item.pos} className="w-8 h-6 bg-blue-500 rounded flex items-center justify-center text-xs">
                                                    <span className="text-gray-600">{item.day}</span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>

                                {/* 快速点名 */}
                                <div className="bg-white rounded-lg p-4">
                                    <div className="flex items-center justify-between mb-4">
                                        <h3 className="font-medium text-gray-800 flex items-center">
                                            <i className="fas fa-bell text-blue-500 mr-2 w-5"></i>
                                            快速点名
                                        </h3>
                                        <i className="fas fa-chevron-up text-gray-400"></i>
                                    </div>
                                    
                                    <button className="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg flex items-center justify-center font-medium">
                                        <i className="fas fa-play mr-2 w-4"></i>
                                        开始点名
                                    </button>
                                    
                                    <div className="text-sm text-gray-600 text-center mt-2">
                                        <div className="text-xs">今日尚未进行点名</div>
                                        <div className="text-xs">点击开始快速点名</div>
                                    </div>
                                </div>

                                {/* 常用功能 */}
                                <div className="bg-white rounded-lg p-4">
                                    <div className="flex items-center justify-between mb-4">
                                        <h3 className="font-medium text-gray-800 flex items-center">
                                            <i className="fas fa-tools text-orange-500 mr-2 w-5"></i>
                                            常用功能
                                        </h3>
                                        <i className="fas fa-chevron-up text-gray-400"></i>
                                    </div>
                                    
                                    <div className="grid grid-cols-2 gap-3">
                                        <button className="bg-gray-50 hover:bg-gray-100 p-3 rounded-lg flex items-center justify-center">
                                            <i className="fas fa-file-export text-blue-500 mr-2 w-5"></i>
                                            <div className="text-xs">导出报表</div>
                                        </button>
                                        <button className="bg-gray-50 hover:bg-gray-100 p-3 rounded-lg flex items-center justify-center">
                                            <i className="fas fa-user-clock text-green-500 mr-2 w-5"></i>
                                            <div className="text-xs">请假管理</div>
                                        </button>
                                        <button className="bg-gray-50 hover:bg-gray-100 p-3 rounded-lg flex items-center justify-center">
                                            <i className="fas fa-random text-purple-500 mr-2 w-5"></i>
                                            <div className="text-xs">随机点名</div>
                                        </button>
                                        <button className="bg-gray-50 hover:bg-gray-100 p-3 rounded-lg flex items-center justify-center">
                                            <i className="fas fa-chart-line text-orange-500 mr-2 w-5"></i>
                                            <div className="text-xs">数据分析</div>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* 添加学生模态框 */}
                    {showAddModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-lg p-6 w-96 max-w-md mx-4">
                                <div className="flex items-center justify-between mb-6">
                                    <h3 className="text-lg font-medium">添加学生</h3>
                                    <button 
                                        onClick={() => setShowAddModal(false)}
                                        className="text-gray-400 hover:text-gray-600"
                                    >
                                        <i className="fas fa-times text-xl"></i>
                                    </button>
                                </div>
                                
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">学号</label>
                                        <input
                                            type="text"
                                            placeholder="请输入学号"
                                            value={newStudent.id}
                                            onChange={(e) => setNewStudent({...newStudent, id: e.target.value})}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">姓名</label>
                                        <input
                                            type="text"
                                            placeholder="请输入姓名"
                                            value={newStudent.name}
                                            onChange={(e) => setNewStudent({...newStudent, name: e.target.value})}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">班级</label>
                                        <input
                                            type="text"
                                            placeholder="请输入班级"
                                            value={newStudent.class}
                                            onChange={(e) => setNewStudent({...newStudent, class: e.target.value})}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">状态</label>
                                        <select
                                            value={newStudent.status}
                                            onChange={(e) => setNewStudent({...newStudent, status: e.target.value})}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        >
                                            <option value="正常">正常</option>
                                            <option value="请假">请假</option>
                                            <option value="迟到">迟到</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div className="flex space-x-3 mt-6">
                                    <button 
                                        onClick={() => setShowAddModal(false)}
                                        className="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-lg font-medium flex items-center justify-center"
                                    >
                                        <i className="fas fa-times mr-2"></i>
                                        取消
                                    </button>
                                    <button 
                                        onClick={handleAddStudent}
                                        className="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg font-medium flex items-center justify-center"
                                    >
                                        <i className="fas fa-check mr-2"></i>
                                        确认添加
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>