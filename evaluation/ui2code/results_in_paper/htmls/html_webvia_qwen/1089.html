<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>二手交易平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function App() {
            const [activeTab, setActiveTab] = useState('商品展示');
            const [showAddModal, setShowAddModal] = useState(false);
            const [showEditModal, setShowEditModal] = useState(false);
            const [showDeleteModal, setShowDeleteModal] = useState(false);
            const [editingItem, setEditingItem] = useState(null);
            const [deletingItem, setDeletingItem] = useState(null);
            const [deleteCount, setDeleteCount] = useState(0);

            const items = [
                {
                    id: 1,
                    name: '二手 iPhone 11',
                    category: '电子产品',
                    price: 1800,
                    description: '黑色，8GB，成色良好',
                    image: 'https://picsum.photos/id/1/300/200',
                    createdAt: '2023-05-15'
                },
                {
                    id: 2,
                    name: '宜家折叠餐桌',
                    category: '家具',
                    price: 300,
                    description: '带椅子，九成新',
                    image: 'https://picsum.photos/id/2/300/200',
                    createdAt: '2023-05-10'
                },
                {
                    id: 3,
                    name: '儿童绘画套装',
                    category: '玩具',
                    price: 50,
                    description: '九成新，内含彩笔、画纸等',
                    image: 'https://picsum.photos/id/3/300/200',
                    createdAt: '2023-05-05'
                }
            ];

            const handleTabClick = (tab) => {
                setActiveTab(tab);
                setShowAddModal(false);
                setShowEditModal(false);
                setDeleteCount(0);
            };

            const handleEditClick = (item) => {
                setEditingItem({
                    ...item,
                    image: 'https://picsum.photos/id/1/300/200'
                });
                setShowEditModal(true);
                setShowAddModal(false);
            };

            const handleDeleteClick = (item) => {
                setDeletingItem(item);
                setShowDeleteModal(true);
                setDeleteCount(0);
            };

            const handleSaveEdit = () => {
                setShowEditModal(false);
                setEditingItem(null);
            };

            const handleConfirmDelete = () => {
                setShowDeleteModal(false);
                setDeletingItem(null);
                setDeleteCount(prev => prev + 1);
            };

            const handleCancelDelete = () => {
                setShowDeleteModal(false);
                setDeletingItem(null);
                setDeleteCount(0);
            };

            const handleSortItems = () => {
                items.sort((a, b) => (confirm('确定删除此商品?') ? 0 : Math.random() - 0.5));
            };

            const renderHeader = () => (
                <header className="bg-green-700 text-white p-4">
                    <div className="flex items-center justify-between">
                        <div className="flex items-center space-x-2">
                            <i className="fas fa-recycle text-white"></i>
                            <h1 className="text-xl font-bold">二手交易平台</h1>
                        </div>
                        <div className="w-16 h-16 bg-gray-800 rounded-full overflow-hidden">
                            <img src="https://picsum.photos/id/64/64/64" alt="用户头像" className="w-full h-full object-cover" />
                        </div>
                    </div>
                </header>
            );

            const renderSidebarWidgets = () => (
                <div className="bg-white rounded-lg shadow-lg p-4 mx-6 mt-6 space-y-4">
                    <div className="bg-green-100 p-4 rounded-lg">
                        <h3 className="text-sm font-bold text-green-800 mb-2">实时数据</h3>
                        <div className="space-y-3">
                            <div className="flex items-center space-x-3">
                                <span className="text-green-600 text-sm">👥 上线用户数</span>
                                <div className="text-right">
                                    <div className="text-lg font-bold">1024</div>
                                    <div className="text-xs text-gray-500">人在线</div>
                                </div>
                            </div>
                            <div className="flex items-center space-x-3">
                                <span className="text-orange-600 text-sm">🛒 今日成交量</span>
                                <div className="text-right">
                                    <div className="text-lg font-bold">23</div>
                                    <div className="text-xs text-gray-500">笔交易</div>
                                </div>
                            </div>
                            <div className="flex items-center space-x-3">
                                <span className="text-blue-600 text-sm">👤 活跃买家数</span>
                                <div className="text-right">
                                    <div className="text-lg font-bold">512</div>
                                    <div className="text-xs text-gray-500">位用户</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div className="bg-yellow-100 p-4 rounded-lg">
                        <h3 className="text-sm font-bold text-yellow-800 mb-2">交易提示</h3>
                        <p className="text-sm text-yellow-700">
                            商品状态良好，但请注意确认卖家评价。保障交易安全。
                        </p>
                    </div>
                </div>
            );

            const renderAddButton = () => (
                <button 
                    onClick={() => setShowAddModal(true)}
                    className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2"
                >
                    <i className="fas fa-plus"></i>
                    <span>添加新商品</span>
                </button>
            );

            const renderBottomActions = () => (
                <div className="bg-white rounded-lg shadow-lg p-4 mx-6 mt-6 space-y-4">
                    {!showAddModal && items.length > 0 && renderAddButton()}
                    {showAddModal && (
                        <div className="text-center space-y-4">
                            <h3 className="text-green-500 text-lg font-bold">批量删除</h3>
                            <p className="text-gray-600 text-sm">删除操作不可恢复，请谨慎！</p>
                        </div>
                    )}
                    {showDeleteModal && (
                        <div className="text-center space-y-4">
                            <h3 className="text-red-500 text-lg font-bold">确定删除的项目</h3>
                            <p className="text-gray-600 text-sm">删除操作不可恢复，请谨慎！</p>
                        </div>
                    )}
                    <div>
                        <button 
                            onClick={() => 
                                showDeleteModal ? handleConfirmDelete() : handleSortItems()
                            }
                            className="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors"
                        >
                            📊 导出报表
                        </button>
                    </div>
                </div>
            );

            const renderProductCard = (item) => (
                <div key={item.id} className="bg-white rounded-lg shadow-lg p-4 mx-4 mt-4">
                    <div className="flex items-start space-x-4">
                        <img src={item.image} alt={item.name} className="w-32 h-24 object-cover rounded-lg" />
                        <div className="flex-1">
                            <div className="flex items-start justify-between">
                                <div className="flex-1">
                                    <h3 className="text-lg font-bold text-gray-900 mb-1">{item.name}</h3>
                                    <span className="bg-yellow-400 text-yellow-800 px-2 py-1 rounded text-sm font-medium">
                                        {item.category}
                                    </span>
                                    <p className="text-gray-600 text-sm mt-1">{item.description}</p>
                                    <p className="text-green-600 font-bold text-lg mt-2">¥{item.price.toLocaleString()}</p>
                                    <p className="text-gray-400 text-sm mt-1">发布于：{item.createdAt}</p>
                                    {item.image === 'https://picsum.photos/id/1/300/200' && (
                                        <div className="flex space-x-2 mt-3">
                                            <button 
                                                onClick={() => handleEditClick(item)}
                                                className="bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors"
                                            >
                                                <i className="fas fa-edit mr-1"></i>编辑
                                            </button>
                                            <button 
                                                onClick={() => handleDeleteClick(item)}
                                                className="bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors"
                                            >
                                                <i className="fas fa-trash mr-1"></i>删除
                                            </button>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const renderModal = () => {
                if (showAddModal) {
                    return (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-lg p-6 w-96 max-w-90vw">
                                <h2 className="text-lg font-bold text-green-600 mb-4 text-center">添加新商品</h2>
                                
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">商品名称</label>
                                        <input 
                                            type="text" 
                                            placeholder="请输入商品名称"
                                            className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">商品分类</label>
                                        <select className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                            <option>电子产品</option>
                                            <option>家具</option>
                                            <option>玩具</option>
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">价格</label>
                                        <input 
                                            type="text" 
                                            placeholder="请输入价格"
                                            className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">图片 URL</label>
                                        <input 
                                            type="text" 
                                            placeholder="请输入图片 URL (可选)"
                                            className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">商品描述</label>
                                        <textarea 
                                            placeholder="请输入商品描述"
                                            rows="3"
                                            className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                        ></textarea>
                                    </div>
                                </div>
                                
                                <div className="flex space-x-3 mt-6">
                                    <button 
                                        onClick={() => setShowAddModal(false)}
                                        className="flex-1 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors"
                                    >
                                        取消
                                    </button>
                                    <button 
                                        onClick={() => setShowAddModal(false)}
                                        className="flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
                                    >
                                        保存
                                    </button>
                                </div>
                            </div>
                        </div>
                    );
                }

                if (showEditModal) {
                    return (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-lg p-6 w-96 max-w-90vw">
                                <h2 className="text-lg font-bold text-green-600 mb-4">编辑商品</h2>
                                
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">商品名称</label>
                                        <input 
                                            type="text" 
                                            value={editingItem.name}
                                            onChange={(e) => setEditingItem({...editingItem, name: e.target.value})}
                                            className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">商品分类</label>
                                        <select 
                                            value={editingItem.category}
                                            onChange={(e) => setEditingItem({...editingItem, category: e.target.value})}
                                            className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                        >
                                            <option>电子产品</option>
                                            <option>家具</option>
                                            <option>玩具</option>
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">价格</label>
                                        <input 
                                            type="number" 
                                            value={editingItem.price}
                                            onChange={(e) => setEditingItem({...editingItem, price: parseInt(e.target.value)})}
                                            className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">图片 URL</label>
                                        <input 
                                            type="text" 
                                            value={editingItem.image}
                                            onChange={(e) => setEditingItem({...editingItem, image: e.target.value})}
                                            className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">商品描述</label>
                                        <textarea 
                                            value={editingItem.description}
                                            onChange={(e) => setEditingItem({...editingItem, description: e.target.value})}
                                            rows="3"
                                            className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                        ></textarea>
                                    </div>
                                </div>
                                
                                <div className="flex space-x-3 mt-6">
                                    <button 
                                        onClick={() => {
                                            setShowEditModal(false);
                                            setEditingItem(null);
                                        }}
                                        className="flex-1 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors"
                                    >
                                        取消
                                    </button>
                                    <button 
                                        onClick={handleSaveEdit}
                                        className="flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
                                    >
                                        保存
                                    </button>
                                </div>
                            </div>
                        </div>
                    );
                }

                if (showDeleteModal) {
                    return (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-lg p-6 w-80 max-w-90vw">
                                <h2 className="text-lg font-bold text-red-600 mb-4 text-center">确认删除此商品？</h2>
                                <p className="text-red-500 text-center mb-6">删除操作不可恢复，请谨慎！</p>
                                <div className="flex space-x-3">
                                    <button 
                                        onClick={() => setShowDeleteModal(false)}
                                        className="flex-1 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors"
                                    >
                                        取消
                                    </button>
                                    <button 
                                        onClick={handleConfirmDelete}
                                        className="flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"
                                    >
                                        确认删除
                                    </button>
                                </div>
                            </div>
                        </div>
                    );
                }

                return null;
            };

            const renderContent = () => {
                if (activeTab === '商品展示') {
                    return (
                        <div className="bg-white rounded-lg shadow-lg p-6 mx-6 mt-6 mb-6">
                            <p className="text-gray-600 text-sm mb-4">浏览我们的精选二手好物，低优质优，每一件都是物尽其用的环保之选！</p>
                            
                            {items.map(item => renderProductCard(item))}
                        </div>
                    );
                }

                if (activeTab === '数据统计') {
                    return (
                        <div className="space-y-6 mx-6 mt-6 mb-6">
                            <div className="bg-green-50 p-6 rounded-lg">
                                <h3 className="text-lg font-bold text-green-800 mb-4">交易数据统计</h3>
                                <div className="grid grid-cols-3 gap-4">
                                    <div className="bg-white p-4 rounded-lg">
                                        <h4 className="font-bold text-gray-800 mb-2">月度销售趋势</h4>
                                        <div className="bg-gray-200 h-48 rounded-lg flex items-center justify-center">
                                            <span className="text-gray-600">图表区域 - 销售趋势图</span>
                                        </div>
                                    </div>
                                    <div className="bg-white p-4 rounded-lg">
                                        <h4 className="font-bold text-gray-800 mb-2">热门商品类别</h4>
                                        <div className="bg-gray-200 h-48 rounded-lg flex items-center justify-center">
                                            <span className="text-gray-600">图表区域 - 类别饼图</span>
                                        </div>
                                    </div>
                                    <div className="bg-white p-4 rounded-lg">
                                        <h4 className="font-bold text-gray-800 mb-2">用户活跃度</h4>
                                        <div className="bg-gray-200 h-48 rounded-lg flex items-center justify-center">
                                            <span className="text-gray-600">图表区域 - 活跃度折线图</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    );
                }

                if (activeTab === '编辑管理') {
                    return (
                        <div className="bg-blue-50 p-6 rounded-lg mx-6 mt-6 mb-6">
                            <h3 className="text-lg font-bold text-blue-800 mb-2">编辑管理</h3>
                            <p className="text-gray-600 text-sm">管理你的商品列表和档案信息高其他商品进行管控搜寻</p>
                            <div className="mt-2 text-xs text-gray-500">💡 提示：长按商品图片可快速拖拽排序!</div>
                        </div>
                    );
                }
            };

            return (
                <div className="min-h-screen bg-gray-100">
                    {renderHeader()}
                    
                    <div className="flex">
                        <div className="w-64 bg-white shadow-lg p-4 min-h-screen flex-shrink-0">
                            <nav className="space-y-2">
                                <button 
                                    onClick={() => handleTabClick('商品展示')}
                                    className={`w-full text-left px-4 py-2 rounded flex items-center space-x-2 ${
                                        activeTab === '商品展示' ? 'bg-green-100 text-green-700' : 'text-gray-600'
                                    }`}
                                >
                                    <i className="fas fa-home"></i>
                                    <span>首页</span>
                                </button>
                                <button 
                                    onClick={() => handleTabClick('发布商品')}
                                    className={`w-full text-left px-4 py-2 rounded flex items-center space-x-2 ${
                                        activeTab === '发布商品' ? 'bg-green-100 text-green-700' : 'text-gray-600'
                                    }`}
                                >
                                    <i className="fas fa-plus"></i>
                                    <span>发布商品</span>
                                </button>
                                <button 
                                    onClick={() => handleTabClick('我的订单')}
                                    className={`w-full text-left px-4 py-2 rounded flex items-center space-x-2 ${
                                        activeTab === '我的订单' ? 'bg-green-100 text-green-700' : 'text-gray-600'
                                    }`}
                                >
                                    <i className="fas fa-list"></i>
                                    <span>我的订单</span>
                                </button>
                            </nav>
                            
                            <button 
                                onClick={() => handleTabClick('帮助中心')}
                                className="w-full text-left px-4 py-2 text-gray-600 hover:bg-gray-100 rounded flex items-center space-x-2"
                            >
                                <i className="fas fa-question-circle"></i>
                                <span>帮助中心</span>
                            </button>
                        </div>
                        
                        <div className="flex-1 p-6">
                            <div className="flex justify-between items-center mb-4">
                                <h2 className="text-xl font-bold text-green-700">{activeTab}</h2>
                                {deleteCount > 0 && (
                                    <div className="bg-red-500 text-white px-3 py-1 rounded text-sm flex items-center space-x-2">
                                        <span>移除选中({deleteCount})</span>
                                        <i className="fas fa-trash"></i>
                                    </div>
                                )}
                            </div>
                            
                            <nav className="flex space-x-8">
                                <button 
                                    onClick={() => handleTabClick('商品展示')}
                                    className={`hover:text-green-600 ${activeTab === '商品展示' ? 'text-green-600 font-bold' : 'text-gray-600'}`}
                                >
                                    商品展示
                                </button>
                                <button 
                                    onClick={() => handleTabClick('数据统计')}
                                    className={`hover:text-green-600 ${activeTab === '数据统计' ? 'text-green-600 font-bold' : 'text-gray-600'}`}
                                >
                                    数据统计
                                </button>
                                <button 
                                    onClick={() => handleTabClick('编辑管理')}
                                    className={`hover:text-green-600 ${activeTab === '编辑管理' ? 'text-green-600 font-bold' : 'text-gray-600'}`}
                                >
                                    编辑管理
                                </button>
                            </nav>
                            
                            {renderContent()}
                            {renderBottomActions()}
                        </div>
                    </div>
                    
                    {renderSidebarWidgets()}
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>