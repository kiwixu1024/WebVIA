<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高效时间管理仪表盘</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function App() {
            const [currentView, setCurrentView] = useState('overview');
            const [currentMonth, setCurrentMonth] = useState(6); // July, but displayed as 2024年7月
            const [selectedDate, setSelectedDate] = useState(22);
            const [showModal, setShowModal] = useState(false);
            const [modalData, setModalData] = useState({
                title: '',
                date: '',
                startTime: '',
                endTime: '',
                priority: '中',
                category: '工作',
                note: ''
            });

            // 月视图全月份总天数为31天的特殊情况处理
            const getDaysInMonth = () => {
                if (currentMonth === 6) { // July, shows 31 days
                    return Array.from({length: 31}, (_, i) => i + 1);
                }
                return Array.from({length: 30}, (_, i) => i + 1);
            };

            const handleBackMonth = () => {
                setCurrentMonth(currentMonth - 1);
                if (currentMonth === 1) { // January -> previous month is December
                    setCurrentMonth(12);
                }
            };

            const handleNextMonth = () => {
                setCurrentMonth(currentMonth + 1);
                if (currentMonth === 12) { // December -> next month is January
                    setCurrentMonth(1);
                }
            };

            const handleAddSchedule = () => {
                const date = new Date(modalData.date);
                setModalData({
                    ...modalData,
                    date: date.toLocaleDateString('zh-CN', {
                        year: 'numeric',
                        month: '2-digit', 
                        day: '2-digit'
                    }).replace(/\//g, '/').replace(/^(\d{4})\/(\d{2})\/(\d{2})$/, '$2/$3/2025'),
                    startTime: date.toLocaleTimeString('zh-CN', {hour: '2-digit', minute: '2-digit'}),
                    endTime: '---:--- --'
                });
                setShowModal(true);
            };

            const handleCloseModal = () => {
                setShowModal(false);
                setModalData({
                    title: '',
                    date: '',
                    startTime: '',
                    endTime: '',
                    priority: '中',
                    category: '工作',
                    note: ''
                });
            };

            const handleDateClick = (date) => {
                setSelectedDate(22);
                if (!showModal) {
                    handleAddSchedule();
                }
            };

            const getYearMonthString = () => {
                if (currentMonth === 6) {
                    return '2024年6月';
                }
                const monthNames = ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'];
                return `2024年${monthNames[currentMonth]}`;
            };

            const getDaysInWeek = () => {
                const days = [];
                for (let i = 0; i < 7; i++) {
                    days.push(i);
                }
                return days;
            };

            return (
                <div className="bg-gray-50 min-h-screen">
                    {/* Header */}
                    <div className="bg-white shadow-sm border-b">
                        <div className="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
                            <div className="flex items-center space-x-3">
                                <img src="https://picsum.photos/id/1/40/40" alt="Logo" className="w-10 h-10 rounded-full" />
                                <div>
                                    <h1 className="text-lg font-semibold text-blue-600">高效时间管理仪表盘</h1>
                                    <p className="text-sm text-gray-500">掌控您的每一个时间，让生活更高效</p>
                                </div>
                            </div>
                            <div className="flex space-x-2">
                                <button 
                                    onClick={() => setCurrentView('overview')}
                                    className={`px-4 py-2 rounded ${currentView === 'overview' ? 'bg-blue-100 text-blue-600 border border-blue-200' : 'bg-gray-100 text-gray-600'}`}
                                >
                                    <i className="fas fa-chart-bar mr-1"></i>总览
                                </button>
                                <button 
                                    onClick={() => setCurrentView('monthly')}
                                    className={`px-4 py-2 rounded ${currentView === 'monthly' ? 'bg-blue-100 text-blue-600 border border-blue-200' : 'bg-gray-100 text-gray-600'}`}
                                >
                                    <i className="fas fa-calendar-alt mr-1"></i>月视图
                                </button>
                                <button 
                                    onClick={() => setCurrentView('daily')}
                                    className={`px-4 py-2 rounded ${currentView === 'daily' ? 'bg-blue-100 text-blue-600 border border-blue-200' : 'bg-gray-100 text-gray-600'}`}
                                >
                                    <i className="fas fa-calendar mr-1"></i>日视图
                                </button>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-7xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-4 gap-6">
                        {/* Main Content */}
                        <div className="lg:col-span-3 space-y-6">
                            {currentView === 'overview' && (
                                <>
                                    {/* Month View - Calendar */}
                                    <div className="bg-white rounded-lg shadow-sm p-6">
                                        <div className="flex items-center space-x-2 mb-6">
                                            <i className="fas fa-calendar-alt text-blue-500"></i>
                                            <h2 className="text-lg font-semibold">月视图</h2>
                                        </div>
                                        
                                        <div className="flex items-center justify-between mb-4">
                                            <h3 className="text-xl font-medium">{getYearMonthString()}</h3>
                                            <div className="flex items-center space-x-4">
                                                <button 
                                                    onClick={handleBackMonth}
                                                    className="flex items-center space-x-1 bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600"
                                                >
                                                    <i className="fas fa-chevron-left"></i> 
                                                    <span>上个月</span>
                                                </button>
                                                <button 
                                                    onClick={handleNextMonth}
                                                    className="flex items-center space-x-1 bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600"
                                                >
                                                    <span>下个月</span>
                                                    <i className="fas fa-chevron-right"></i> 
                                                </button>
                                            </div>
                                        </div>

                                        {/* Calendar Grid */}
                                        <div className="grid grid-cols-7 gap-1">
                                            {/* Week headers */}
                                            {['日', '一', '二', '三', '四', '五', '六'].map(day => (
                                                <div key={day} className="p-3 text-center font-medium text-gray-500 text-sm border-b">
                                                    {day}
                                                </div>
                                            ))}
                                            
                                            {/* Calendar days */}
                                            {getDaysInMonth().map((date, index) => {
                                                const isToday = date === selectedDate;
                                                const isSelected = date === 22;
                                                
                                                return (
                                                    <div key={date} className={`p-3 border relative ${selectedDate === 22 ? 'border-2 border-blue-300' : ''}`}>
                                                        <div className="text-center font-medium">{date}</div>
                                                        {isToday && (
                                                            <div className="absolute top-1 left-1">
                                                                <div className="bg-red-500 text-white text-xs px-2 py-1 rounded-full z-10">
                                                                    <i className="fas fa-star mr-1"></i>今日
                                                                </div>
                                                            </div>
                                                        )}
                                                        {isSelected && (
                                                            <div className="absolute top-1 right-1">
                                                                <i className="fas fa-calendar text-blue-500 text-xs"></i>
                                                            </div>
                                                        )}
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    </div>
                                </>
                            )}

                            {currentView === 'monthly' && (
                                <div className="bg-white rounded-lg shadow-sm p-6">
                                    <div className="flex items-center space-x-2 mb-6">
                                        <i className="fas fa-calendar-alt text-blue-500"></i>
                                        <h2 className="text-lg font-semibold">月视图</h2>
                                    </div>
                                    
                                    <div className="h-96 bg-gray-50 rounded-lg relative overflow-hidden">
                                        <img 
                                            src="https://picsum.photos/id/500/800/350" 
                                            alt="Background" 
                                            className="w-full h-full object-cover opacity-50"
                                        />
                                        <div className="absolute inset-0 flex items-center justify-center">
                                            <button 
                                                onClick={handleBackMonth}
                                                className="absolute left-4 top-1/2 transform -translate-y-1/2 flex items-center space-x-1 bg-white bg-opacity-80 rounded p-2 shadow-lg"
                                            >
                                                <i className="fas fa-chevron-left text-gray-600"></i> 
                                                <span className="text-sm">上个月</span>
                                            </button>
                                            
                                            <h3 className="text-xl font-medium text-gray-800">{getYearMonthString()}</h3>
                                            <button 
                                                onClick={handleNextMonth}
                                                className="absolute right-4 top-1/2 transform -translate-y-1/2 flex items-center space-x-1 bg-white bg-opacity-80 rounded p-2 shadow-lg"
                                            >
                                                <span className="text-sm">下个月</span>
                                                <i className="fas fa-chevron-right text-gray-600"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {currentView === 'daily' && (
                                <div className="bg-white rounded-lg shadow-sm p-6">
                                    <div className="flex items-center space-x-2 mb-6">
                                        <i className="fas fa-calendar-alt text-blue-500"></i>
                                        <h2 className="text-lg font-semibold">日视图</h2>
                                    </div>
                                    
                                    <div className="h-96 bg-gray-50 rounded-lg">
                                        <img 
                                            src="https://picsum.photos/id/600/800/350" 
                                            alt="Calendar" 
                                            className="w-full h-full object-cover opacity-50"
                                        />
                                        <div className="absolute inset-0 flex items-center justify-center text-white z-10">
                                            <div className="text-center">
                                                <h3 className="text-2xl font-semibold">
                                                    {currentMonth === 6 ? '2024年6月' : '2024年7月'}
                                                </h3>
                                                <p className="text-sm mt-2">在这里查看今日全局安排与一周趋势</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* Today Tasks */}
                            <div className="bg-white rounded-lg shadow-sm p-6">
                                <div className="flex items-center space-x-2 mb-6">
                                    <i className="fas fa-list text-blue-500"></i>
                                    <h2 className="text-lg font-semibold">今日任务</h2>
                                </div>
                                
                                <div className="flex items-center justify-center py-20">
                                    <div className="text-center">
                                        <div className="w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4">
                                            <i className="fas fa-check text-gray-400 text-2xl"></i>
                                        </div>
                                        <p className="text-gray-500 mb-6">当前没有任务安排</p>
                                        <button 
                                            onClick={() => {
                                                if (!showModal) {
                                                    handleAddSchedule();
                                                }
                                            }}
                                            className="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"
                                        >
                                            <i className="fas fa-plus mr-2"></i>添加新任务
                                        </button>
                                    </div>
                                </div>

                                {currentView === 'daily' && !showModal && (
                                    <button className="absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">
                                        + 添加日程
                                    </button>
                                )}

                                {modalData.date && (
                                    <div className="bg-gray-100 rounded-lg p-4 collapsed">
                                        <div className="flex justify-between items-start">
                                            <div>
                                                <div className="text-gray-500 text-sm text-left">
                                                    {currentMonth === 6 ? 'ROI分析总结会议 9/22/2025' : '项目评审会议 18:00-19:30'}
                                                </div>
                                                <div className="text-xs text-gray-400 mt-1">
                                                    {modalData.priority === '高' ? '高 优先级 2025-09-22' : 
                                                     modalData.priority === '中' ? '2025-09-22' : 
                                                     modalData.priority}
                                                </div>
                                            </div>
                                            <div className="w-6 h-6 bg-blue-500 rounded flex items-center justify-center">
                                                <i className="fas fa-calendar text-white text-xs"></i>
                                            </div>
                                        </div>
                                        <button 
                                            onClick={handleCloseModal}
                                            className="mt-2 text-blue-500 text-sm hover:underline"
                                        >
                                            待办事项
                                        </button>
                                    </div>
                                )}

                                {!showModal && (
                                    <p className="text-gray-500 text-center">
                                        如果今天有任务安排，请点击查看日历查看
                                    </p>
                                )}
                            </div>
                        </div>

                        {/* Right Sidebar */}
                        <div className="space-y-6">
                            <div className="bg-white rounded-lg shadow-sm p-6">
                                <h3 className="text-lg font-semibold mb-4">统计</h3>
                                
                                <div className="space-y-4">
                                    <div className="space-y-2">
                                        <div className="flex justify-between">
                                            <span className="text-gray-600">今日任务</span>
                                            <span className="text-blue-500 font-semibold">{selectedDate === 22 ? '1' : '0'}</span>
                                        </div>
                                        <div className="w-full bg-gray-200 rounded-full h-2">
                                            <div className="bg-blue-500 h-2 rounded-full" style={{width: `100%`}}></div>
                                        </div>
                                        <div className="text-right text-sm text-gray-500">完成度</div>
                                    </div>

                                    <div className="text-center">
                                        <div className="w-24 h-24 mx-auto mb-2">
                                            <i className="fas fa-circle text-blue-500 text-4xl"></i>
                                        </div>
                                        <div className="text-xl font-semibold text-blue-500">75%</div>
                                        <div className="text-sm text-gray-500">月度完成率</div>
                                    </div>

                                    <div className="grid grid-cols-3 gap-2 mb-4">
                                        <div className="bg-blue-500 text-white text-center py-2 rounded text-sm">
                                            <div className="font-semibold">学习</div>
                                            <div>40%</div>
                                        </div>
                                        <div className="bg-green-500 text-white text-center py-2 rounded text-sm">
                                            <div className="font-semibold">工作</div>
                                            <div>35%</div>
                                        </div>
                                        <div className="bg-purple-500 text-white text-center py-2 rounded text-sm">
                                            <div className="font-semibold">生活</div>
                                            <div>25%</div>
                                        </div>
                                    </div>

                                    <div>
                                        <h4 className="font-medium mb-2">今日时间利用</h4>
                                        <div className="text-xs text-gray-500 mb-1">已安排</div>
                                        <div className="text-lg font-semibold">
                                            {selectedDate === 22 ? '5.5' : '5.5'}小时
                                        </div>
                                        <div className="w-full bg-gray-200 rounded-full h-3 mt-2">
                                            <div className="bg-orange-400 h-3 rounded-full" style={{width: `${selectedDate === 22 ? '55%' : '55%'}`}}></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Task Management */}
                            <div className="bg-white rounded-lg shadow-sm p-6">
                                <h3 className="text-lg font-semibold mb-4">任务管理</h3>
                                
                                <div className="space-y-4 mb-4">
                                    <div className="flex items-center justify-between">
                                        <span className="text-gray-600">待办任务</span>
                                        <span className="text-green-500 font-semibold">{0}</span>
                                    </div>
                                    <button className="w-full bg-gray-100 rounded-lg p-2">
                                        <i className="fas fa-search text-gray-400"></i>
                                    </button>
                                </div>

                                <div className="ml-5 mb-4">
                                    <img src="https://picsum.photos/id/300/300/200" alt="Image 1" className="w-full h-32 object-cover rounded" />
                                </div>

                                <div className="text-center">
                                    <img src="https://picsum.photos/id/301/60/60" alt="Image 2" className="w-16 h-16 rounded mx-auto mb-2" />
                                    <div className="text-sm text-gray-500">还没有任务展开列表</div>
                                </div>
                            </div>

                            <div className="bg-white rounded-lg shadow-sm p-6">
                                <div className="flex items-center space-x-2 mb-4">
                                    <i className="fas fa-cog text-blue-500"></i>
                                    <h3 className="text-lg font-semibold">任务筛选</h3>
                                </div>
                                
                                <select className="w-full p-2 border border-gray-300 rounded mb-4">
                                    <option>全部任务</option>
                                </select>

                                <select className="w-full p-2 border border-gray-300 rounded mb-2">
                                    <option>全部分类</option>
                                </select>

                                <div className="text-sm text-gray-500 mb-4">统计模式</div>

                                <img src="https://picsum.photos/id/302/300/200" alt="Summary" className="w-full h-40 object-cover rounded" />
                            </div>
                        </div>
                    </div>

                    {/* Modal */}
                    {showModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-lg shadow-lg w-96 p-6">
                                <div className="flex justify-between items-center mb-6">
                                    <h3 className="text-lg font-semibold">添加新日程</h3>
                                    <button 
                                        onClick={handleCloseModal}
                                        className="text-gray-400 hover:text-gray-600"
                                    >
                                        <i className="fas fa-times"></i>
                                    </button>
                                </div>

                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">标题</label>
                                        <input 
                                            type="text" 
                                            placeholder="输入任务标题"
                                            value={modalData.title}
                                            onChange={(e) => setModalData({...modalData, title: e.target.value})}
                                            className="w-full p-2 border border-gray-300 rounded"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">日期</label>
                                        <input 
                                            type="text" 
                                            placeholder="mm/dd/yyyy"
                                            value={modalData.date}
                                            onChange={(e) => setModalData({...modalData, date: e.target.value})}
                                            className="w-full p-2 border border-gray-300 rounded"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">开始时间</label>
                                        <div className="relative">
                                            <input 
                                                type="text" 
                                                placeholder="--:-- --"
                                                value={modalData.startTime}
                                                onChange={(e) => setModalData({...modalData, startTime: e.target.value})}
                                                className="w-full p-2 border border-gray-300 rounded"
                                            />
                                            <i className="fas fa-clock absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">结束时间</label>
                                        <div className="relative">
                                            <input 
                                                type="text" 
                                                placeholder="--:-- --"
                                                value={modalData.endTime}
                                                onChange={(e) => setModalData({...modalData, endTime: e.target.value})}
                                                className="w-full p-2 border border-gray-300 rounded"
                                            />
                                            <i className="fas fa-clock absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">优先级</label>
                                        <select 
                                            value={modalData.priority}
                                            onChange={(e) => setModalData({...modalData, priority: e.target.value})}
                                            className="w-full p-2 border border-gray-300 rounded"
                                        >
                                            <option>高</option>
                                            <option>中</option>
                                            <option>低</option>
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">分类</label>
                                        <select 
                                            value={modalData.category}
                                            onChange={(e) => setModalData({...modalData, category: e.target.value})}
                                            className="w-full p-2 border border-gray-300 rounded"
                                        >
                                            <option>工作</option>
                                            <option>学习</option>
                                            <option>生活</option>
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">备注</label>
                                        <textarea 
                                            placeholder="任务备注（可选）"
                                            value={modalData.note}
                                            onChange={(e) => setModalData({...modalData, note: e.target.value})}
                                            className="w-full p-2 border border-gray-300 rounded"
                                            rows="3"
                                        />
                                    </div>
                                </div>

                                <div className="flex space-x-3 mt-6">
                                    <button 
                                        onClick={handleCloseModal}
                                        className="flex-1 bg-gray-100 text-gray-700 py-2 rounded hover:bg-gray-200"
                                    >
                                        取消
                                    </button>
                                    <button 
                                        onClick={handleCloseModal}
                                        className="flex-1 bg-blue-500 text-white py-2 rounded hover:bg-blue-600"
                                    >
                                        保存
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>