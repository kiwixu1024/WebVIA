<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>游戏排行榜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans SC', sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function App() {
            const [showAddGameModal, setShowAddGameModal] = useState(false);
            const [selectedCategory, setSelectedCategory] = useState('全部游戏');
            const [sortBy, setSortBy] = useState('rating');
            const [sortOrder, setSortOrder] = useState('desc');
            const [showHelp, setShowHelp] = useState(false);

            const allGames = [
                {
                    id: 1,
                    rank: 2,
                    name: '魔法王国',
                    rating: 9.1,
                    downloads: 350000,
                    updated: '3/27/2023',
                    image: 'https://picsum.photos/id/119/300/200',
                    tags: ['策略', '奇幻', 'RPG']
                },
                {
                    id: 2,
                    rank: 3,
                    name: '太空射击王',
                    rating: 8.7,
                    downloads: 98000,
                    updated: '6/21/2023',
                    image: 'https://picsum.photos/id/96/300/200',
                    tags: ['射击', '动作', '科幻']
                },
                {
                    id: 3,
                    rank: 4,
                    name: '赛车极速',
                    rating: 8.5,
                    downloads: 120000,
                    updated: '7/4/2023',
                    image: 'https://picsum.photos/id/133/300/200',
                    tags: ['竞速', '体育', '多人']
                },
                {
                    id: 4,
                    rank: 5,
                    name: '美食大亨',
                    rating: 7.9,
                    downloads: 230000,
                    updated: '4/9/2023',
                    image: 'https://picsum.photos/id/312/300/200',
                    tags: ['模拟', '经营', '休闲']
                },
                {
                    id: 5,
                    rank: 1,
                    name: '幻境冒险',
                    rating: 9.3,
                    downloads: 150000,
                    updated: '5/14/2023',
                    image: 'https://picsum.photos/id/180/300/200',
                    tags: ['冒险', 'RPG', '开放世界']
                }
            ];

            const categories = [
                '全部游戏', '冒险', 'RPG', '开放世界', '射击', '动作', 
                '科幻', '模拟', '休闲', '竞速', '体育', '多人', '策略', '奇幻'
            ];

            const getFilteredAndSortedGames = () => {
                let filteredGames = selectedCategory === '全部游戏' 
                    ? allGames 
                    : allGames.filter(game => game.tags.includes(selectedCategory));

                filteredGames.sort((a, b) => {
                    let valueA = sortBy === 'rating' ? a.rating : a.downloads;
                    let valueB = sortBy === 'rating' ? b.rating : b.downloads;
                    return sortOrder === 'asc' ? (valueA - valueB) : (valueB - valueA);
                });

                // Update ranks based on sorted order
                filteredGames = filteredGames.map((game, index) => ({
                    ...game,
                    rank: index + 1
                }));

                return filteredGames;
            };

            const handleSortChange = (newSortBy) => {
                setSortBy(newSortBy);
                if (newSortBy === 'downloads') {
                    setSortOrder('desc');
                }
            };

            const handleSortOrderToggle = () => {
                setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');
            };

            return (
                <div className="min-h-screen bg-gray-50">
                    {/* Header */}
                    <header className="bg-purple-700 text-white px-6 py-4">
                        <div className="flex items-center justify-between">
                            <div className="flex items-center space-x-6">
                                <span className="text-lg font-semibold">首页</span>
                                <div className="flex items-center space-x-2">
                                    <i className="fas fa-gamepad"></i>
                                    <span className="text-lg font-semibold">游戏排行榜</span>
                                </div>
                            </div>
                            <div className="flex items-center space-x-6">
                                <button className="px-4 py-2 bg-cyan-500 rounded-md hover:bg-cyan-600">排行榜</button>
                                <button className="px-4 py-2 hover:bg-purple-600 rounded-md bg-purple-600 px-4 py-2">统计</button>
                                <button 
                                    onClick={() => setShowHelp(!showHelp)}
                                    className="px-4 py-2 hover:bg-purple-600 rounded-md"
                                >
                                    帮助
                                </button>
                                <button 
                                    onClick={() => setShowAddGameModal(true)}
                                    className="px-6 py-2 bg-orange-500 rounded-md hover:bg-orange-600 flex items-center space-x-2"
                                >
                                    <span>+</span>
                                    <span>添加新游戏</span>
                                </button>
                            </div>
                        </div>
                    </header>

                    <div className="flex">
                        {/* Sidebar */}
                        <aside className="w-64 bg-white shadow-sm min-h-screen p-6">
                            <div className="space-y-6">
                                <div>
                                    <h3 className="text-gray-500 text-sm uppercase font-semibold mb-3">主菜单</h3>
                                    <ul className="space-y-2 text-gray-600">
                                        <li><i className="fas fa-home mr-2"></i> 首页概览</li>
                                        <li><i className="fas fa-chart-bar mr-2"></i> 排行榜管理</li>
                                        <li><i className="fas fa-table mr-2"></i> 数据统计</li>
                                        <li><i className="fas fa-cog mr-2"></i> 系统设置</li>
                                    </ul>
                                </div>

                                <div>
                                    <h3 className="text-gray-500 text-sm uppercase font-semibold mb-3">游戏分类</h3>
                                    <ul className="space-y-1">
                                        {categories.map(category => (
                                            <li key={category}>
                                                <button
                                                    onClick={() => setSelectedCategory(category)}
                                                    className={`w-full text-left px-3 py-2 rounded ${
                                                        selectedCategory === category 
                                                            ? 'bg-blue-100 text-blue-600 font-medium' 
                                                            : 'hover:bg-gray-100'
                                                    }`}
                                                >
                                                    {category}
                                                </button>
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            </div>
                        </aside>

                        {/* Main Content */}
                        <main className="flex-1 p-6">
                            <div className="flex items-center justify-between mb-6">
                                <h2 className="text-xl font-bold">游戏排行榜</h2>
                                <div className="flex items-center space-x-4">
                                    <select 
                                        value={sortBy === 'rating' ? 'rating' : 'downloads'}
                                        onChange={(e) => handleSortChange(e.target.value)}
                                        className="border border-gray-300 rounded px-3 py-2"
                                    >
                                        <option value="rating">按评分排序</option>
                                        <option value="downloads">按下载量排序</option>
                                    </select>
                                    <button 
                                        onClick={handleSortOrderToggle}
                                        className="px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 flex items-center space-x-2"
                                    >
                                        <span>{sortOrder}</span>
                                        <span>降序</span>
                                    </button>
                                </div>
                            </div>

                            <div className="space-y-4">
                                {getFilteredAndSortedGames().map((game) => (
                                    <div key={game.id} className="bg-white rounded-lg shadow-sm border p-6 flex items-center space-x-6">
                                        <div className="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-bold text-lg">
                                            {game.rank}
                                        </div>
                                        <img 
                                            src={game.image} 
                                            alt={game.name}
                                            className="w-32 h-24 object-cover rounded"
                                        />
                                        <div className="flex-1">
                                            <h3 className="font-bold text-lg">{game.name}</h3>
                                            <div className="flex items-center space-x-4 text-sm text-gray-600 mt-1">
                                                <span><i className="fas fa-download mr-1"></i>{(game.downloads / 10000).toFixed(1)}万下载</span>
                                                <span><i className="fas fa-calendar mr-1"></i>更新于{game.updated}</span>
                                            </div>
                                            <div className="flex items-center space-x-2 mt-3">
                                                {game.tags.map(tag => (
                                                    <span key={tag} className="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded">
                                                        #{tag}
                                                    </span>
                                                ))}
                                            </div>
                                        </div>
                                        <div className="flex items-center space-x-2">
                                            <span className="text-yellow-500"><i className="fas fa-star"></i></span>
                                            <span className="font-bold">{game.rating}</span>
                                        </div>
                                        <div className="flex space-x-2">
                                            <button className="px-3 py-1 text-blue-600 border border-blue-600 rounded hover:bg-blue-50 text-sm">
                                                <i className="fas fa-edit mr-1"></i>编辑
                                            </button>
                                            <button className="px-3 py-1 text-red-600 border border-red-600 rounded hover:bg-red-50 text-sm">
                                                <i className="fas fa-trash mr-1"></i>删除
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </main>

                        {/* Right Sidebar */}
                        <aside className="w-80 bg-white shadow-sm p-6">
                            <div className="space-y-6">
                                <div>
                                    <h3 className="font-bold text-lg mb-4">统计概况</h3>
                                    <div className="space-y-4">
                                        <div className="flex justify-between items-center">
                                            <span>游戏总数</span>
                                            <span className="font-bold text-purple-600">5</span>
                                        </div>
                                        <div className="flex justify-between items-center">
                                            <span>今日新增</span>
                                            <span className="font-bold text-green-600">2</span>
                                        </div>
                                        <div className="flex justify-between items-center">
                                            <span>访问量</span>
                                            <span className="font-bold text-orange-500">15,783</span>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h3 className="font-bold text-lg mb-4">排行榜特色</h3>
                                    <div className="space-y-3 text-sm text-gray-600">
                                        <p><i className="fas fa-clock text-purple-500 mr-2"></i>实时更新，及时反映游戏排名变化</p>
                                        <p><i className="fas fa-globe text-purple-500 mr-2"></i>全球数据同步，掌握国际游戏动态</p>
                                        <p><i className="fas fa-users text-purple-500 mr-2"></i>玩家评分机制，真实反映游戏口碑</p>
                                        <p><i className="fas fa-poll text-purple-500 mr-2"></i>社区投票支持，由玩家共同决定</p>
                                    </div>
                                </div>

                                <div>
                                    <h3 className="font-bold text-lg mb-4">快捷操作</h3>
                                    <div className="grid grid-cols-2 gap-2">
                                        <button className="block w-full py-2 px-4 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm">
                                            <i className="fas fa-download mr-1"></i>导出数据
                                        </button>
                                        <button className="block w-full py-2 px-4 bg-cyan-500 text-white rounded hover:bg-cyan-600 text-sm">
                                            <i className="fas fa-sync mr-1"></i>刷新排行
                                        </button>
                                        <button className="block w-full py-2 px-4 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm">
                                            <i className="fas fa-cog mr-1"></i>设置
                                        </button>
                                        <button className="block w-full py-2 px-4 bg-orange-500 text-white rounded hover:bg-orange-600 text-sm">
                                            <i className="fas fa-question-circle mr-1"></i>帮助
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </div>

                    {/* Add Game Modal */}
                    {showAddGameModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-lg p-6 w-96 max-w-md">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-lg font-bold">添加新游戏</h3>
                                    <button 
                                        onClick={() => setShowAddGameModal(false)}
                                        className="text-gray-500 hover:text-gray-700"
                                    >
                                        <i className="fas fa-times"></i>
                                    </button>
                                </div>
                                
                                <form className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">游戏名称</label>
                                        <input 
                                            type="text" 
                                            placeholder="输入游戏名称"
                                            className="w-full border border-gray-300 rounded px-3 py-2"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-1">评分 (0-10)</label>
                                        <input 
                                            type="number" 
                                            placeholder="0"
                                            min="0"
                                            max="10"
                                            step="0.1"
                                            className="w-full border border-gray-300 rounded px-3 py-2"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-1">下载量</label>
                                        <input 
                                            type="number" 
                                            placeholder="0"
                                            className="w-full border border-gray-300 rounded px-3 py-2"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-1">封面图片URL</label>
                                        <input 
                                            type="url" 
                                            placeholder="https://picsum.photos/id/123/300/200"
                                            className="w-full border border-gray-300 rounded px-3 py-2"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-2">游戏标签</label>
                                        <div className="flex flex-wrap gap-2">
                                            {['RPG', '冒险', '动作', '射击', '策略', '模拟', '休闲', '竞速', '体育', '多人', '开放世界', '策略', '奇幻'].map(tag => (
                                                <span key={tag} className="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded cursor-pointer hover:bg-gray-200">
                                                    {tag}
                                                </span>
                                            ))}
                                        </div>
                                        <p className="text-red-500 text-xs mt-1">请至少选择一个标签</p>
                                    </div>
                                    
                                    <div className="flex justify-end space-x-3 pt-4">
                                        <button 
                                            type="button"
                                            onClick={() => setShowAddGameModal(false)}
                                            className="px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50"
                                        >
                                            取消
                                        </button>
                                        <button 
                                            type="submit"
                                            className="px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700"
                                        >
                                            提交
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}

                    {/* Footer */}
                    <footer className="bg-gray-800 text-white py-4 px-6">
                        <div className="flex justify-between items-center">
                            <div>
                                <p>© 2023 游戏排行榜 | 版本 1.0.0</p>
                            </div>
                            <div className="flex space-x-6 text-sm">
                                <a href="#" className="hover:text-gray-300">联系我们</a>
                                <a href="#" className="hover:text-gray-300">隐私政策</a>
                                <a href="#" className="hover:text-gray-300">使用条款</a>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>