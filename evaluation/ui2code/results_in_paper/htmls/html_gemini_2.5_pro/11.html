<html>
<head>
    <meta charset="UTF-8" />
    <title>跑步步数统计</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <style>
        body {
            font-family: 'system-ui', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const recordData = [
            {
                id: 1,
                date: '2024-06-01',
                details: '中速 · 疲劳度: 3/10',
                steps: '12,000',
                note: '今天天气不错，跑步感觉很轻松',
                isSpecial: true,
            },
            {
                id: 2,
                date: '2024-06-02',
                details: '慢速 · 疲劳度: 6/10',
                steps: '9,800',
                note: '略感疲惫，勉强完成目标',
            },
            {
                id: 3,
                date: '2024-06-03',
                details: '快速 · 疲劳度: 7/10',
                steps: '15,000',
                note: '突破个人记录！感觉真棒',
            },
            {
                id: 4,
                date: '2024-06-04',
                details: '中速 · 疲劳度: 4/10',
                steps: '8,000',
                note: '工作繁忙，简单跑一下',
            },
            {
                id: 5,
                date: '2024-06-05',
                details: '快速 · 疲劳度: 8/10',
                steps: '17,000',
                note: '周末长跑，精力充沛',
            },
        ];

        function AddRecordModal({ isOpen, onClose }) {
            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-end" onClick={onClose}>
                    <div className="bg-white w-[520px] h-full shadow-xl p-6 flex flex-col" onClick={(e) => e.stopPropagation()}>
                        <div className="flex justify-between items-center pb-4 border-b">
                            <h2 className="text-xl font-semibold text-gray-800">添加跑步记录</h2>
                            <button onClick={onClose} className="text-gray-500 hover:text-gray-800 text-2xl">&times;</button>
                        </div>
                        <div className="flex-grow mt-6 space-y-6 text-gray-700">
                            <div>
                                <label className="block text-sm font-medium mb-1">日期</label>
                                <input type="date" defaultValue="2025-09-23" className="w-full p-2 border rounded-md" />
                            </div>
                            <div>
                                <label className="block text-sm font-medium mb-1">步数</label>
                                <input type="number" defaultValue="0" className="w-full p-2 border rounded-md" />
                            </div>
                            <div>
                                <label className="block text-sm font-medium mb-1">配速区间</label>
                                <select className="w-full p-2 border rounded-md bg-white">
                                    <option>中速</option>
                                    <option>慢速</option>
                                    <option>快速</option>
                                </select>
                            </div>
                             <div>
                                <label className="block text-sm font-medium mb-1">疲劳程度 (5/10)</label>
                                <input type="range" min="0" max="10" defaultValue="5" className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer" />
                            </div>
                            <div>
                                <label className="block text-sm font-medium mb-1">备注</label>
                                <textarea rows="4" className="w-full p-2 border rounded-md"></textarea>
                            </div>
                        </div>
                        <div className="flex justify-end items-center mt-6 pt-4 border-t space-x-4">
                            <button className="px-4 py-2 bg-white border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50">重置</button>
                            <button onClick={onClose} className="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">提交新增</button>
                        </div>
                    </div>
                </div>
            );
        }

        function Header({ activeView, onNavClick }) {
            const navItems = [
                { id: 'dashboard', label: '首页总览' },
                { id: 'my-records', label: '我的记录' },
                { id: 'analysis', label: '统计分析' },
                { id: 'help', label: '设置帮助' },
            ];

            return (
                <header className="bg-white shadow-sm px-8 py-4 flex justify-between items-center">
                    <div className="flex items-center space-x-3">
                        <i className="fas fa-running text-2xl text-blue-500"></i>
                        <h1 className="text-xl font-semibold text-gray-800">跑步步数统计</h1>
                    </div>
                    <nav className="flex items-center space-x-8">
                        {navItems.map(item => (
                             <button
                                key={item.id}
                                onClick={() => onNavClick(item.id)}
                                className={`text-gray-600 pb-2 hover:text-blue-500 ${activeView === item.id ? 'text-blue-500 border-b-2 border-blue-500 font-semibold' : ''}`}
                            >
                                {item.label}
                            </button>
                        ))}
                    </nav>
                </header>
            );
        }
        
        function LeftSidebar({ onOpenModal }) {
            const menuItems = [
                { icon: 'fa-plus-circle', text: '新增记录', action: onOpenModal },
                { icon: 'fa-pencil-alt', text: '快速编辑' },
                { icon: 'fa-trash-alt', text: '删除管理' },
                { icon: 'fa-share-square', text: '导出分享' },
            ];
             const specialItems = [
                { icon: 'fa-palette', text: '主题特色', active: true },
            ];

            return (
                <aside className="w-60 bg-white p-4 flex flex-col">
                    <nav className="space-y-2">
                       {menuItems.map((item, index) => (
                         <a href="#" key={index} onClick={item.action} className="flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100">
                           <i className={`fas ${item.icon} w-6 text-blue-500`}></i>
                           <span>{item.text}</span>
                         </a>
                       ))}
                    </nav>
                    <div className="mt-4 pt-4 border-t border-gray-200">
                        {specialItems.map((item, index) => (
                         <a href="#" key={index} className={`flex items-center px-4 py-3 rounded-lg ${item.active ? 'bg-blue-50 text-blue-600 font-semibold' : 'text-gray-700 hover:bg-gray-100'}`}>
                           <i className={`fas ${item.icon} w-6 text-blue-500`}></i>
                           <span>{item.text}</span>
                         </a>
                       ))}
                    </div>
                </aside>
            );
        }

        function RightSidebar() {
            return (
                 <aside className="w-80 bg-transparent p-6 pl-0">
                    <div className="space-y-6">
                        <div className="bg-white rounded-lg shadow-sm">
                            <div className="p-4">
                                <h3 className="font-semibold text-gray-700">数据统计</h3>
                            </div>
                            <div className="p-5 bg-gradient-to-r from-green-400 to-teal-500 text-white m-4 mt-0 rounded-lg">
                                <p className="text-sm">总步数</p>
                                <p className="text-4xl font-bold mt-1">61,800</p>
                                <p className="text-xs mt-2">平均每日 12,360 步</p>
                            </div>
                        </div>

                        <div className="bg-white p-4 rounded-lg shadow-sm">
                            <h3 className="font-semibold text-gray-700 mb-3">最近7天趋势</h3>
                            <img src="https://picsum.photos/id/1015/300/200" alt="Landscape" className="rounded-md w-full h-auto object-cover" />
                        </div>
                        
                        <div className="bg-white p-4 rounded-lg shadow-sm text-center">
                            <h3 className="font-semibold text-gray-700 mb-4">本月目标完成度</h3>
                            <div className="relative w-32 h-32 mx-auto">
                                <svg className="w-full h-full" viewBox="0 0 36 36">
                                    <path
                                        d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
                                        fill="none"
                                        stroke="#f3f4f6"
                                        strokeWidth="3"
                                    />
                                    <path
                                        d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
                                        fill="none"
                                        stroke="#34d399"
                                        strokeWidth="3"
                                        strokeDasharray="78, 100"
                                        strokeLinecap="round"
                                        transform="rotate(-90 18 18)"
                                    />
                                </svg>
                                <div className="absolute inset-0 flex items-center justify-center">
                                    <span className="text-3xl font-bold text-green-500">78%</span>
                                </div>
                            </div>
                             <p className="text-sm text-gray-500 mt-3">距离目标还差22%</p>
                        </div>
                        
                        <div className="bg-white p-4 rounded-lg shadow-sm">
                             <h3 className="font-semibold text-blue-500">健康小贴士</h3>
                             <p className="text-sm text-gray-600 mt-2">每日一万步，健康又快乐；长跑离愁，少更美丽。</p>
                             <p className="text-xs text-gray-400 mt-4">长线记录可快速复制<br />追踪各种惊喜详情</p>
                        </div>
                    </div>
                </aside>
            );
        }

        function RecordList({ onOpenModal }) {
            return (
                 <div className="bg-white p-6 rounded-lg shadow-sm">
                    <div className="flex justify-between items-center mb-4">
                        <h2 className="text-xl font-semibold">跑步记录列表</h2>
                        <button className="text-sm text-blue-500 hover:text-blue-600">
                            <i className="fas fa-chart-bar mr-2"></i>切换到图表视图
                        </button>
                    </div>
                    <button onClick={onOpenModal} className="w-full bg-gradient-to-r from-green-400 to-teal-500 text-white font-bold py-3 rounded-lg mb-6 hover:opacity-90 transition-opacity">
                        <i className="fas fa-plus mr-2"></i>添加跑步记录
                    </button>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        {recordData.map((record) => (
                            <div key={record.id} className={`p-4 rounded-lg shadow-md ${record.isSpecial ? 'bg-gradient-to-r from-cyan-400 to-blue-500 text-white' : 'bg-gray-50'}`}>
                                <div className="flex justify-between items-start">
                                    <div className="flex items-center space-x-3">
                                        <div className={`w-8 h-8 rounded-full flex items-center justify-center ${record.isSpecial ? 'bg-white bg-opacity-20' : 'bg-blue-100'}`}>
                                            <i className={`fas fa-running ${record.isSpecial ? 'text-white' : 'text-blue-500'}`}></i>
                                        </div>
                                        <div>
                                            <p className={`font-semibold ${record.isSpecial ? 'text-white' : 'text-gray-800'}`}>{record.date}</p>
                                            <p className={`text-xs ${record.isSpecial ? 'text-gray-200' : 'text-gray-500'}`}>{record.details}</p>
                                        </div>
                                    </div>
                                    <div className="flex space-x-3 text-sm">
                                        <i className={`fas fa-pencil-alt cursor-pointer ${record.isSpecial ? 'hover:text-gray-200' : 'text-gray-400 hover:text-blue-500'}`}></i>
                                        <i className={`fas fa-trash-alt cursor-pointer ${record.isSpecial ? 'hover:text-gray-200' : 'text-gray-400 hover:text-red-500'}`}></i>
                                    </div>
                                </div>
                                <div className="mt-3">
                                    <p className={`text-3xl font-bold ${record.isSpecial ? 'text-white' : 'text-gray-900'}`}>{record.steps} <span className="text-xl font-medium">步</span></p>
                                    <p className={`text-sm mt-1 ${record.isSpecial ? 'text-gray-100' : 'text-gray-600'}`}>{record.note}</p>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            )
        }
        
        function ChartView() {
            return (
                <div className="bg-white p-6 rounded-lg shadow-sm">
                    <div className="flex justify-between items-center mb-4">
                        <h2 className="text-xl font-semibold">统计图表视图</h2>
                        <button className="text-sm text-blue-500 hover:text-blue-600">
                            <i className="fas fa-list mr-2"></i>切换到列表视图
                        </button>
                    </div>
                    <div className="flex justify-between items-center border-b mb-6">
                        <div className="flex space-x-1">
                           <button className="px-4 py-2 border-b-2 border-blue-500 text-blue-500 font-semibold">折线图</button>
                           <button className="px-4 py-2 text-gray-500 hover:bg-gray-100 rounded-t-md">柱状图</button>
                           <button className="px-4 py-2 text-gray-500 hover:bg-gray-100 rounded-t-md">圆环图</button>
                        </div>
                        <button className="text-sm text-gray-600 hover:text-blue-500">
                            <i className="fas fa-download mr-2"></i>导出图表
                        </button>
                    </div>
                    <div className="text-center">
                        <img src="https://picsum.photos/id/88/800/400" alt="Chart" className="w-full rounded-lg shadow-md object-cover" />
                        <p className="mt-4 font-semibold text-gray-700">图表区域 - 折线图</p>
                        <p className="text-sm text-gray-500">展示您的步数变化趋势和数据分析</p>
                    </div>
                </div>
            )
        }

        function DashboardView({ onOpenModal }) {
            const [view, setView] = useState('list');

            const MainContent = () => (
                <div className="bg-white p-6 rounded-lg shadow-sm">
                    <div className="flex justify-between items-center mb-4">
                        <h2 className="text-xl font-semibold">{view === 'list' ? '跑步记录列表' : '统计图表视图'}</h2>
                        <button onClick={() => setView(view === 'list' ? 'chart' : 'list')} className="text-sm text-blue-500 hover:text-blue-600">
                            <i className={`fas ${view === 'list' ? 'fa-chart-bar' : 'fa-list'} mr-2`}></i>
                            {view === 'list' ? '切换到图表视图' : '切换到列表视图'}
                        </button>
                    </div>
                    {view === 'list' ? (
                        <div>
                             <button onClick={onOpenModal} className="w-full bg-gradient-to-r from-green-400 to-teal-500 text-white font-bold py-3 rounded-lg mb-6 hover:opacity-90 transition-opacity">
                                <i className="fas fa-plus mr-2"></i>添加跑步记录
                            </button>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                {recordData.map((record) => (
                                    <div key={record.id} className={`p-4 rounded-lg shadow-md ${record.isSpecial ? 'bg-gradient-to-r from-cyan-400 to-blue-500 text-white' : 'bg-gray-50'}`}>
                                        <div className="flex justify-between items-start">
                                            <div className="flex items-center space-x-3">
                                                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${record.isSpecial ? 'bg-white bg-opacity-20' : 'bg-blue-100'}`}>
                                                    <i className={`fas fa-running ${record.isSpecial ? 'text-white' : 'text-blue-500'}`}></i>
                                                </div>
                                                <div>
                                                    <p className={`font-semibold ${record.isSpecial ? 'text-white' : 'text-gray-800'}`}>{record.date}</p>
                                                    <p className={`text-xs ${record.isSpecial ? 'text-gray-200' : 'text-gray-500'}`}>{record.details}</p>
                                                </div>
                                            </div>
                                            <div className="flex space-x-3 text-sm">
                                                <i className={`fas fa-pencil-alt cursor-pointer ${record.isSpecial ? 'hover:text-gray-200' : 'text-gray-400 hover:text-blue-500'}`}></i>
                                                <i className={`fas fa-trash-alt cursor-pointer ${record.isSpecial ? 'hover:text-gray-200' : 'text-gray-400 hover:text-red-500'}`}></i>
                                            </div>
                                        </div>
                                        <div className="mt-3">
                                            <p className={`text-3xl font-bold ${record.isSpecial ? 'text-white' : 'text-gray-900'}`}>{record.steps} <span className="text-xl font-medium">步</span></p>
                                            <p className={`text-sm mt-1 ${record.isSpecial ? 'text-gray-100' : 'text-gray-600'}`}>{record.note}</p>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    ) : (
                         <div className="mt-1">
                            <div className="flex justify-between items-center border-b mb-6">
                                <div className="flex space-x-1">
                                <button className="px-4 py-2 border-b-2 border-blue-500 text-blue-500 font-semibold bg-blue-50 rounded-t-md">折线图</button>
                                <button className="px-4 py-2 text-gray-500 hover:bg-gray-100 rounded-t-md">柱状图</button>
                                <button className="px-4 py-2 text-gray-500 hover:bg-gray-100 rounded-t-md">圆环图</button>
                                </div>
                                <button className="text-sm text-gray-600 hover:text-blue-500">
                                    <i className="fas fa-download mr-2"></i>导出图表
                                </button>
                            </div>
                            <div className="text-center">
                                <img src="https://picsum.photos/id/103/800/400" alt="Chart" className="w-full rounded-lg shadow-md object-cover" />
                                <p className="mt-4 font-semibold text-gray-700">图表区域 - 折线图</p>
                                <p className="text-sm text-gray-500">展示您的步数变化趋势和数据分析</p>
                            </div>
                        </div>
                    )}
                </div>
            );

            return <MainContent />;
        }
        
        function AnalysisView() {
            const analysisCards = [
                { title: '步数趋势', img: 'https://picsum.photos/id/3/600/400' },
                { title: '每周汇总', img: 'https://picsum.photos/id/193/600/400' },
                { title: '目标达成', img: 'https://picsum.photos/id/237/600/400' },
                { title: '配速分布', img: 'https://picsum.photos/id/2/600/400' },
            ];

            return (
                 <div className="bg-white p-6 rounded-lg shadow-sm">
                    <h2 className="text-xl font-semibold mb-6">统计分析</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        {analysisCards.map((card, index) => (
                            <div key={index} className="rounded-lg overflow-hidden shadow-md">
                                <img src={card.img} alt={card.title} className="w-full h-48 object-cover" />
                                <div className="p-4 bg-gray-50">
                                    <h3 className="font-semibold text-gray-800">{card.title}</h3>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        function HelpView() {
            return (
                <div className="bg-white p-6 rounded-lg shadow-sm text-gray-700">
                    <h2 className="text-xl font-semibold mb-6">帮助与说明</h2>
                    <div className="space-y-6">
                        <div>
                            <h3 className="font-semibold text-lg mb-2">模块说明</h3>
                            <p className="text-sm leading-relaxed"><strong>展示区：</strong>查看您的跑步记录、图表和统计数据<br/><strong>编辑区：</strong>添加、修改或删除您的跑步数据<br/><strong>统计区：</strong>分析您的跑步表现和成就</p>
                        </div>
                         <div>
                            <h3 className="font-semibold text-lg mb-2">操作指引</h3>
                            <p className="text-sm leading-relaxed"><strong>添加数据：</strong>点击"添加跑步记录"按钮，填写表单后提交<br/><strong>编辑数据：</strong>在记录卡片中点击"编辑"按钮，修改后保存<br/><strong>删除数据：</strong>在记录卡片中点击"删除"按钮，确认后删除<br/><strong>导出数据：</strong>在侧边栏点击"导出分享"，选择导出格式</p>
                        </div>
                         <div>
                            <h3 className="font-semibold text-lg mb-2">常见问题</h3>
                            <p className="text-sm leading-relaxed"><strong>数据丢失怎么办？</strong>本应用使用浏览器本地存储，请定期导出备份重要数据<br/><strong>图表异常处理？</strong>请刷新页面或清除浏览器缓存后重试<br/><strong>如何设置自定义目标？</strong>在"设置"选项中可以自定义每日/每周跑步目标</p>
                        </div>
                    </div>
                </div>
            )
        }

        function App() {
            const [mainView, setMainView] = useState('dashboard');
            const [headerView, setHeaderView] = useState('dashboard');
            const [isModalOpen, setIsModalOpen] = useState(false);

            const handleNavClick = (viewId) => {
                if (viewId === 'dashboard' || viewId === 'analysis' || viewId === 'help') {
                    setMainView(viewId);
                    setHeaderView(viewId);
                } else {
                    setHeaderView(viewId);
                    // For "我的记录", we can just stay on the dashboard or create a new view
                    setMainView('dashboard');
                }
            };
            
            const renderMainContent = () => {
                switch (mainView) {
                    case 'analysis':
                        return <AnalysisView />;
                    case 'help':
                        return <HelpView />;
                    case 'dashboard':
                    default:
                        return <DashboardView onOpenModal={() => setIsModalOpen(true)}/>;
                }
            };

            return (
                <div className="min-h-screen bg-gray-100">
                    <AddRecordModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} />
                    <Header activeView={headerView} onNavClick={handleNavClick} />
                    <div className="flex">
                        <LeftSidebar onOpenModal={() => setIsModalOpen(true)} />
                        <main className="flex-grow p-6">
                            {renderMainContent()}
                        </main>
                        <RightSidebar />
                    </div>
                    <footer className="bg-gray-100 text-center text-xs text-gray-500 p-4 border-t border-gray-200">
                        当前版本: v1.2.8 | ©2024 跑步步数统计小助手
                        <span className="mx-4">|</span>
                        联系邮箱: support@runstats.com
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>