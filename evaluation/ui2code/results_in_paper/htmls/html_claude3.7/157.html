<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"></link>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f2f5;
    }
    .menu-item.active {
      background-color: #1890ff;
      color: white;
    }
    .tab-item.active {
      color: #1890ff;
      border-bottom: 2px solid #1890ff;
    }
    .status-normal {
      background-color: #52c41a;
      color: white;
      padding: 2px 8px;
      border-radius: 4px;
      display: inline-block;
      font-size: 12px;
    }
    .status-absent {
      background-color: #f5222d;
      color: white;
      padding: 2px 8px;
      border-radius: 4px;
      display: inline-block;
      font-size: 12px;
    }
    .status-leave {
      background-color: #faad14;
      color: white;
      padding: 2px 8px;
      border-radius: 4px;
      display: inline-block;
      font-size: 12px;
    }
    .chart-container {
      width: 100%;
      height: 100px;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    function App() {
      const [showModal, setShowModal] = React.useState(false);
      const [students, setStudents] = React.useState([
        { id: "001", name: "张三", class: "一班", status: "正常" },
        { id: "002", name: "李四", class: "一班", status: "正常" },
        { id: "003", name: "王五", class: "一班", status: "请假" },
        { id: "004", name: "赵六", class: "二班", status: "正常" },
        { id: "005", name: "钱七", class: "二班", status: "缺勤" }
      ]);
      const [newStudent, setNewStudent] = React.useState({
        id: "",
        name: "",
        class: "",
        status: "正常"
      });

      const handleInputChange = (e) => {
        const { name, value } = e.target;
        setNewStudent({
          ...newStudent,
          [name]: value
        });
      };

      const handleAddStudent = () => {
        setStudents([...students, newStudent]);
        setShowModal(false);
        setNewStudent({
          id: "",
          name: "",
          class: "",
          status: "正常"
        });
      };

      const renderStatusBadge = (status) => {
        if (status === "正常") {
          return <span className="status-normal">正常</span>;
        } else if (status === "缺勤") {
          return <span className="status-absent">缺勤</span>;
        } else if (status === "请假") {
          return <span className="status-leave">请假</span>;
        }
        return null;
      };

      return (
        <div className="flex flex-col h-screen">
          {/* Header */}
          <header className="bg-white shadow-sm p-4 flex justify-between items-center">
            <div className="text-lg font-bold text-blue-600">班级点名系统</div>
            <div className="flex">
              <div className="tab-item active px-4 py-2">日常点名</div>
              <div className="tab-item px-4 py-2">周报统计</div>
              <div className="tab-item px-4 py-2">导出记录</div>
            </div>
          </header>

          {/* Main Content */}
          <div className="flex flex-1 overflow-hidden">
            {/* Left Sidebar */}
            <div className="w-40 bg-white shadow-sm">
              <div className="menu-item active p-3 flex items-center">
                <i className="fas fa-user-graduate mr-2"></i>
                <span>学生管理</span>
              </div>
              <div className="menu-item p-3 flex items-center">
                <i className="fas fa-bullhorn mr-2"></i>
                <span>公告管理</span>
              </div>
              <div className="menu-item p-3 flex items-center">
                <i className="fas fa-clipboard-list mr-2"></i>
                <span>点名记录</span>
              </div>
              <div className="menu-item p-3 flex items-center">
                <i className="fas fa-cog mr-2"></i>
                <span>系统设置</span>
              </div>
            </div>

            {/* Main Content Area */}
            <div className="flex-1 flex overflow-hidden">
              {/* Center Content */}
              <div className="flex-1 p-4 overflow-auto">
                <div className="bg-white p-4 rounded shadow-sm">
                  <div className="flex justify-between items-center mb-4">
                    <h2 className="text-xl font-bold">学生管理</h2>
                    <button 
                      className="bg-blue-500 hover:bg-blue-600 text-white py-1 px-4 rounded"
                      onClick={() => setShowModal(true)}
                    >
                      <i className="fas fa-plus mr-1"></i>添加学生
                    </button>
                  </div>

                  <p className="text-gray-600 mb-4">在此管理全部学生信息，可新增、编辑或删除学生记录</p>

                  <table className="w-full border-collapse">
                    <thead className="bg-gray-100">
                      <tr>
                        <th className="p-2 text-left">学号</th>
                        <th className="p-2 text-left">姓名</th>
                        <th className="p-2 text-left">班级</th>
                        <th className="p-2 text-left">状态</th>
                        <th className="p-2 text-left">操作</th>
                      </tr>
                    </thead>
                    <tbody>
                      {students.map((student) => (
                        <tr key={student.id} className="border-t">
                          <td className="p-2">{student.id}</td>
                          <td className="p-2">{student.name}</td>
                          <td className="p-2">{student.class}</td>
                          <td className="p-2">{renderStatusBadge(student.status)}</td>
                          <td className="p-2">
                            <button className="text-blue-500 mr-2">
                              <i className="fas fa-edit"></i> 编辑
                            </button>
                            <button className="text-red-500">
                              <i className="fas fa-trash"></i> 删除
                            </button>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                  
                  <div className="text-gray-500 text-sm mt-4">
                    Tip: 点击表格表头的列可按照列内容进行排序
                  </div>
                </div>
              </div>

              {/* Right Sidebar */}
              <div className="w-64 bg-white p-4 overflow-auto">
                <div className="mb-6">
                  <div className="flex justify-between items-center mb-2">
                    <h3 className="font-bold">当日出勤率</h3>
                    <div className="text-gray-400">
                      <i className="fas fa-sync-alt mr-1"></i>
                      <i className="fas fa-expand-alt"></i>
                    </div>
                  </div>
                  <div className="relative h-36">
                    <div className="absolute inset-0 flex items-center justify-center">
                      <div className="w-32 h-32 rounded-full bg-white border-8 border-green-500 relative">
                        <div className="absolute top-0 right-0 w-32 h-32 rounded-full border-8 border-red-400" style={{clip: "rect(0, 32px, 32px, 0)"}}></div>
                      </div>
                      <div className="absolute text-center">
                        <div className="text-gray-500 text-xs">出勤:</div>
                        <div className="font-bold text-xl">90%</div>
                      </div>
                    </div>
                  </div>
                  <div className="flex justify-center mt-2">
                    <div className="flex items-center mr-4">
                      <div className="w-3 h-3 bg-green-500 rounded-full mr-1"></div>
                      <span className="text-sm">出勤: 90%</span>
                    </div>
                    <div className="flex items-center">
                      <div className="w-3 h-3 bg-red-400 rounded-full mr-1"></div>
                      <span className="text-sm">缺勤: 10%</span>
                    </div>
                  </div>
                </div>

                <div className="mb-6">
                  <div className="flex justify-between items-center mb-2">
                    <h3 className="font-bold">本周出勤趋势</h3>
                    <div className="text-gray-400">
                      <i className="fas fa-sync-alt mr-1"></i>
                      <i className="fas fa-expand-alt"></i>
                    </div>
                  </div>
                  <div className="chart-container">
                    <img src="https://picsum.photos/id/26/300/100" alt="Weekly attendance chart" className="w-full" />
                  </div>
                </div>

                <div className="mb-6">
                  <h3 className="font-bold mb-2">快速点名</h3>
                  <button className="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded flex justify-center items-center">
                    <i className="fas fa-play mr-2"></i> 开始点名
                  </button>
                  <div className="text-xs text-gray-500 mt-1 text-center">
                    今日尚未进行点名，点击开始
                  </div>
                </div>

                <div>
                  <h3 className="font-bold mb-2">常用功能</h3>
                  <div className="grid grid-cols-2 gap-2">
                    <div className="bg-gray-100 p-2 rounded flex flex-col items-center">
                      <div className="w-6 h-6 bg-blue-500 text-white rounded flex items-center justify-center mb-1">
                        <i className="fas fa-file-export"></i>
                      </div>
                      <span className="text-xs">导出记录</span>
                    </div>
                    <div className="bg-gray-100 p-2 rounded flex flex-col items-center">
                      <div className="w-6 h-6 bg-green-500 text-white rounded flex items-center justify-center mb-1">
                        <i className="fas fa-chart-bar"></i>
                      </div>
                      <span className="text-xs">数据管理</span>
                    </div>
                    <div className="bg-gray-100 p-2 rounded flex flex-col items-center">
                      <div className="w-6 h-6 bg-red-500 text-white rounded flex items-center justify-center mb-1">
                        <i className="fas fa-times"></i>
                      </div>
                      <span className="text-xs">随机点名</span>
                    </div>
                    <div className="bg-gray-100 p-2 rounded flex flex-col items-center">
                      <div className="w-6 h-6 bg-yellow-500 text-white rounded flex items-center justify-center mb-1">
                        <i className="fas fa-chart-line"></i>
                      </div>
                      <span className="text-xs">数据分析</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          {/* Footer */}
          <footer className="bg-white p-2 text-center text-sm text-gray-500">
            班级点名系统 V1.0.0
            <span className="ml-2 text-blue-500"><i className="fas fa-question-circle mr-1"></i>帮助说明</span>
          </footer>

          {/* Add Student Modal */}
          {showModal && (
            <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50">
              <div className="bg-white rounded-md shadow-lg w-96">
                <div className="flex justify-between items-center p-4 border-b">
                  <h3 className="font-bold">添加学生</h3>
                  <button onClick={() => setShowModal(false)} className="text-gray-500">
                    <i className="fas fa-times"></i>
                  </button>
                </div>
                <div className="p-4">
                  <div className="mb-4">
                    <label className="block text-gray-700 mb-2">学号</label>
                    <input
                      type="text"
                      name="id"
                      value={newStudent.id}
                      onChange={handleInputChange}
                      className="w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-300"
                    />
                  </div>
                  <div className="mb-4">
                    <label className="block text-gray-700 mb-2">姓名</label>
                    <input
                      type="text"
                      name="name"
                      value={newStudent.name}
                      onChange={handleInputChange}
                      className="w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-300"
                    />
                  </div>
                  <div className="mb-4">
                    <label className="block text-gray-700 mb-2">班级</label>
                    <input
                      type="text"
                      name="class"
                      value={newStudent.class}
                      onChange={handleInputChange}
                      className="w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-300"
                    />
                  </div>
                  <div className="mb-4">
                    <label className="block text-gray-700 mb-2">状态</label>
                    <select
                      name="status"
                      value={newStudent.status}
                      onChange={handleInputChange}
                      className="w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-300"
                    >
                      <option value="正常">正常</option>
                      <option value="请假">请假</option>
                      <option value="缺勤">缺勤</option>
                    </select>
                  </div>
                </div>
                <div className="flex justify-end p-4 border-t">
                  <button
                    onClick={() => setShowModal(false)}
                    className="bg-gray-200 hover:bg-gray-300 text-gray-800 py-1 px-4 rounded mr-2"
                  >
                    取消
                  </button>
                  <button
                    onClick={handleAddStudent}
                    className="bg-blue-500 hover:bg-blue-600 text-white py-1 px-4 rounded"
                  >
                    确认添加
                  </button>
                </div>
              </div>
            </div>
          )}
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>