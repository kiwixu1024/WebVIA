<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>语音日记</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"></link>
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f5f5f5;
        }
        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            color: #333;
        }
        .sidebar-item.active {
            color: #f97316;
            font-weight: 500;
        }
        .tab {
            padding: 12px 16px;
            border-bottom: 2px solid transparent;
            color: #666;
        }
        .tab.active {
            border-bottom: 2px solid #f97316;
            color: #f97316;
            font-weight: 500;
        }
        .record-item {
            border-bottom: 1px solid #eee;
            padding: 16px;
            margin-bottom: 8px;
        }
        .badge {
            font-size: 12px;
            padding: 2px 6px;
            border-radius: 4px;
        }
        .badge.normal {
            background-color: #e6f7ff;
            color: #1890ff;
        }
        .badge.important {
            background-color: #fff2e8;
            color: #fa541c;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
    
    <script type="text/babel">
        const { useState } = React;
        
        function App() {
            const [activeTab, setActiveTab] = useState('日记总览');
            const [selectedDiaries, setSelectedDiaries] = useState([]);
            const [showDeleteButton, setShowDeleteButton] = useState(false);
            const [diaries, setDiaries] = useState([
                {
                    id: 1,
                    title: '小确幸来袭',
                    date: '2024-06-20 22:15',
                    duration: '时长: 02:38',
                    content: '今天下班路上遇到彩虹，心情顿时明媚......',
                    badge: '已听',
                    badgeType: 'normal'
                },
                {
                    id: 2,
                    title: '感悟爱情',
                    date: '2024-06-19 08:30',
                    duration: '时长: 01:45',
                    content: '所谓爱与远方的彩虹，心愿是上善若流......',
                    badge: '未听',
                    badgeType: 'important'
                },
                {
                    id: 3,
                    title: '工作压力',
                    date: '2024-06-18 19:45',
                    duration: '时长: 03:12',
                    content: '今天项目进度有点落后，领导压力有点大，需要调整心态......',
                    badge: '已听',
                    badgeType: 'normal'
                }
            ]);
            const [showNewDiaryModal, setShowNewDiaryModal] = useState(false);
            const [showEditDiaryModal, setShowEditDiaryModal] = useState(false);
            const [currentEditDiary, setCurrentEditDiary] = useState(null);
            
            const handleCheckboxChange = (id) => {
                if (selectedDiaries.includes(id)) {
                    setSelectedDiaries(selectedDiaries.filter(item => item !== id));
                } else {
                    setSelectedDiaries([...selectedDiaries, id]);
                }
            };
            
            const toggleDeleteMode = () => {
                setShowDeleteButton(!showDeleteButton);
                setSelectedDiaries([]);
            };
            
            const handleBatchDelete = () => {
                setDiaries(diaries.filter(diary => !selectedDiaries.includes(diary.id)));
                setSelectedDiaries([]);
                setShowDeleteButton(false);
            };
            
            const handleEditClick = (diary) => {
                setCurrentEditDiary(diary);
                setShowEditDiaryModal(true);
            };
            
            const handleNewDiaryClick = () => {
                setShowNewDiaryModal(true);
            };
            
            const closeNewDiaryModal = () => {
                setShowNewDiaryModal(false);
            };
            
            const closeEditDiaryModal = () => {
                setShowEditDiaryModal(false);
                setCurrentEditDiary(null);
            };
            
            return (
                <div className="flex flex-col min-h-screen">
                    {/* 顶部导航栏 */}
                    <header className="border-b">
                        <div className="container mx-auto">
                            <div className="flex">
                                <div className={`tab ${activeTab === '日记总览' ? 'active' : ''}`} onClick={() => setActiveTab('日记总览')}>
                                    日记总览
                                </div>
                                <div className={`tab ${activeTab === '录音编辑' ? 'active' : ''}`} onClick={() => setActiveTab('录音编辑')}>
                                    录音编辑
                                </div>
                                <div className={`tab ${activeTab === '数据统计' ? 'active' : ''}`} onClick={() => setActiveTab('数据统计')}>
                                    数据统计
                                </div>
                                <div className={`tab ${activeTab === '主题介绍' ? 'active' : ''}`} onClick={() => setActiveTab('主题介绍')}>
                                    主题介绍
                                </div>
                            </div>
                        </div>
                    </header>
                    
                    {/* 主体内容 */}
                    <div className="flex-1 flex">
                        {/* 左侧边栏 */}
                        <div className="w-[150px] bg-white border-r p-4">
                            <div className="sidebar-item active mb-6">
                                <i className="fas fa-microphone-alt text-orange-500 mr-2"></i>
                                <span>语音日记</span>
                            </div>
                            
                            <div className="sidebar-item">
                                <i className="fas fa-home mr-2"></i>
                                <span>首页</span>
                            </div>
                            
                            <div className="sidebar-item">
                                <i className="fas fa-book mr-2"></i>
                                <span>我的日记</span>
                            </div>
                            
                            <div className="sidebar-item">
                                <i className="fas fa-headphones mr-2"></i>
                                <span>快速录音</span>
                            </div>
                            
                            <div className="sidebar-item">
                                <i className="fas fa-folder mr-2"></i>
                                <span>语音库</span>
                            </div>
                            
                            <div className="sidebar-item">
                                <i className="fas fa-cog mr-2"></i>
                                <span>设置</span>
                            </div>
                        </div>
                        
                        {/* 中间内容区 */}
                        <div className="flex-1 p-4">
                            <div className="bg-white rounded-lg shadow p-6">
                                <div className="flex justify-between items-center mb-4">
                                    <div className="text-gray-500 text-sm">
                                        {showDeleteButton ? (
                                            <>已选择 {selectedDiaries.length} 条</>
                                        ) : (
                                            <span>&nbsp;</span>
                                        )}
                                    </div>
                                    <div className="flex gap-2">
                                        {showDeleteButton ? (
                                            <button onClick={handleBatchDelete} className="bg-red-500 text-white px-3 py-1 rounded text-sm flex items-center">
                                                <span>批量删除</span>
                                            </button>
                                        ) : (
                                            <button onClick={toggleDeleteMode} className="bg-green-500 text-white px-3 py-1 rounded text-sm flex items-center">
                                                <i className="fas fa-check mr-1"></i>
                                                <span>新记日记</span>
                                            </button>
                                        )}
                                        {!showDeleteButton && (
                                            <button className="bg-red-500 text-white px-3 py-1 rounded text-sm flex items-center">
                                                <i className="fas fa-trash-alt mr-1"></i>
                                                <span>批量删除</span>
                                            </button>
                                        )}
                                    </div>
                                </div>
                                
                                <button 
                                    onClick={handleNewDiaryClick}
                                    className="flex items-center bg-orange-400 text-white px-4 py-2 rounded mb-4"
                                >
                                    <i className="fas fa-plus mr-2"></i>
                                    新增语音日记
                                </button>
                                
                                {diaries.length > 0 ? (
                                    diaries.map((diary) => (
                                        <div key={diary.id} className="bg-white rounded mb-4 border">
                                            <div className="p-4 flex items-center">
                                                <input 
                                                    type="checkbox" 
                                                    className="mr-3" 
                                                    checked={selectedDiaries.includes(diary.id)}
                                                    onChange={() => handleCheckboxChange(diary.id)}
                                                />
                                                <div className="flex-1">
                                                    <div className="flex items-center">
                                                        <h3 className="font-medium">{diary.title}</h3>
                                                        <span className={`ml-2 badge ${diary.badgeType}`}>{diary.badge}</span>
                                                    </div>
                                                    <div className="text-gray-500 text-sm mt-1">
                                                        <i className="far fa-calendar-alt mr-1"></i>
                                                        {diary.date}
                                                    </div>
                                                    <div className="text-orange-500 text-sm">{diary.duration}</div>
                                                </div>
                                                <div className="flex gap-2">
                                                    <button onClick={() => handleEditClick(diary)} className="text-blue-500 border border-blue-500 px-2 py-1 rounded text-sm">编辑</button>
                                                    <button className="text-red-500 border border-red-500 px-2 py-1 rounded text-sm">删除</button>
                                                </div>
                                            </div>
                                            
                                            <div className="h-[70px] bg-center bg-cover rounded-lg mx-4" style={{backgroundImage: `url(https://picsum.photos/id/1072/800/200)`}}></div>
                                            
                                            <div className="p-4">
                                                <p className="text-gray-700">{diary.content}</p>
                                                <div className="flex mt-3">
                                                    <button className="bg-blue-100 text-blue-500 rounded-full w-7 h-7 flex items-center justify-center mr-2">
                                                        <i className="fas fa-thumbs-up"></i>
                                                    </button>
                                                    <button className="bg-blue-100 text-blue-500 rounded-full w-7 h-7 flex items-center justify-center">
                                                        <i className="fas fa-comment"></i>
                                                    </button>
                                                    <div className="flex-1 text-right">
                                                        <button className="text-blue-500 text-sm">
                                                            <i className="fas fa-share-alt mr-1"></i>
                                                            分享
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    ))
                                ) : (
                                    <div className="bg-white p-10 text-center">
                                        <div className="flex justify-center mb-4">
                                            <i className="fas fa-microphone-alt text-gray-300 text-5xl"></i>
                                        </div>
                                        <p className="text-lg mb-2">还没有语音日记</p>
                                        <p className="text-gray-500 mb-4">点击"新增语音日记"开始记录你的第一条语音</p>
                                        <button 
                                            className="bg-orange-400 text-white px-4 py-2 rounded"
                                            onClick={handleNewDiaryClick}
                                        >
                                            <i className="fas fa-plus mr-2"></i>
                                            立即开始记录
                                        </button>
                                    </div>
                                )}
                            </div>
                        </div>
                        
                        {/* 右侧统计区 */}
                        <div className="w-[250px] bg-white border-l p-4">
                            <div className="mb-6">
                                <div className="flex justify-between items-center mb-2">
                                    <h3 className="text-md font-medium">录音统计</h3>
                                    <button className="text-blue-500 text-sm">
                                        <i className="fas fa-sign-out-alt"></i>
                                        导出
                                    </button>
                                </div>
                                <div className="mb-2">
                                    <div className="text-sm text-gray-500">本月录音</div>
                                    <div className="font-bold text-lg">14 次</div>
                                </div>
                                <div>
                                    <div className="text-sm text-gray-500">累计时长</div>
                                    <div className="font-bold text-lg">03:48:20</div>
                                </div>
                                <div className="mt-4">
                                    <img 
                                        src="https://picsum.photos/id/111/250/150" 
                                        alt="统计图" 
                                        className="w-full h-[100px] object-cover rounded-lg"
                                    />
                                </div>
                            </div>
                            
                            <div>
                                <div className="flex justify-between items-center mb-2">
                                    <h3 className="text-md font-medium">情绪分布</h3>
                                    <button className="text-blue-500 text-sm">
                                        <i className="fas fa-sign-out-alt"></i>
                                        导出
                                    </button>
                                </div>
                                <div className="mb-4">
                                    <img 
                                        src="https://picsum.photos/id/1015/250/150" 
                                        alt="情绪分布图" 
                                        className="w-full h-[100px] object-cover rounded-lg"
                                    />
                                </div>
                                <div className="flex flex-wrap gap-y-2">
                                    <div className="w-1/2 flex items-center">
                                        <span className="w-3 h-3 rounded-full bg-blue-500 mr-1"></span>
                                        <span className="text-sm text-gray-700">平静 40%</span>
                                    </div>
                                    <div className="w-1/2 flex items-center">
                                        <span className="w-3 h-3 rounded-full bg-yellow-500 mr-1"></span>
                                        <span className="text-sm text-gray-700">高兴 30%</span>
                                    </div>
                                    <div className="w-1/2 flex items-center">
                                        <span className="w-3 h-3 rounded-full bg-purple-500 mr-1"></span>
                                        <span className="text-sm text-gray-700">忧伤 20%</span>
                                    </div>
                                    <div className="w-1/2 flex items-center">
                                        <span className="w-3 h-3 rounded-full bg-orange-500 mr-1"></span>
                                        <span className="text-sm text-gray-700">激动 10%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* 底部区域 */}
                    <footer className="p-4 border-t">
                        <div className="container mx-auto">
                            <div className="flex justify-between text-sm">
                                <div className="w-1/3">
                                    <h3 className="font-medium mb-2">如何有序管理日记</h3>
                                    <ol className="list-decimal pl-4 text-gray-600">
                                        <li>点击创建录音</li>
                                        <li>为日记加标签</li>
                                        <li>定期回顾并听录</li>
                                        <li>分享好的文字</li>
                                    </ol>
                                </div>
                                
                                <div className="w-1/3">
                                    <h3 className="font-medium mb-2">帮助中心</h3>
                                    <ul className="text-blue-500">
                                        <li>常见问题</li>
                                        <li>操作指南</li>
                                        <li>联系我们</li>
                                    </ul>
                                </div>
                                
                                <div className="w-1/3">
                                    <h3 className="font-medium mb-2">隐私保护</h3>
                                    <p className="text-gray-600">我们重视您的隐私和安全，所有日记内容均使用加密存储，详情请查看<span className="text-blue-500">隐私政策</span>。</p>
                                </div>
                            </div>
                            
                            <div className="text-center text-gray-500 text-sm mt-4">
                                © 2024 语音日记 All Rights Reserved
                            </div>
                        </div>
                    </footer>
                    
                    {/* 悬浮帮助按钮 */}
                    <button className="fixed bottom-5 right-5 bg-orange-500 w-10 h-10 rounded-full flex items-center justify-center text-white shadow-lg">
                        <i className="fas fa-question"></i>
                    </button>
                    
                    {/* 新增语音日记弹窗 */}
                    {showNewDiaryModal && (
                        <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-30">
                            <div className="bg-white rounded-lg shadow-lg w-[500px] p-6">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-lg font-medium">新增语音日记</h2>
                                    <button onClick={closeNewDiaryModal} className="text-gray-500">
                                        <i className="fas fa-times"></i>
                                    </button>
                                </div>
                                
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">标题</label>
                                    <input 
                                        type="text" 
                                        className="w-full border rounded p-2" 
                                        placeholder="请输入日记标题"
                                    />
                                </div>
                                
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">情绪标签</label>
                                    <select className="w-full border rounded p-2">
                                        <option>平静</option>
                                        <option>高兴</option>
                                        <option>忧伤</option>
                                        <option>激动</option>
                                    </select>
                                </div>
                                
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">语音录制</label>
                                    <div className="border rounded p-6 flex flex-col items-center justify-center">
                                        <div className="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center text-orange-500 mb-2">
                                            <i className="fas fa-microphone"></i>
                                        </div>
                                        <p className="text-gray-500 text-sm">点击开始录音</p>
                                    </div>
                                </div>
                                
                                <div className="mb-6">
                                    <label className="block text-sm mb-1">文字补充</label>
                                    <textarea 
                                        className="w-full border rounded p-2" 
                                        rows="4"
                                        placeholder="添加文字记录，补充你的语音内容..."
                                    ></textarea>
                                </div>
                                
                                <div className="flex justify-end gap-2">
                                    <button 
                                        onClick={closeNewDiaryModal}
                                        className="border border-gray-300 rounded px-4 py-2"
                                    >
                                        取消
                                    </button>
                                    <button className="bg-orange-500 text-white rounded px-4 py-2">
                                        保存
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                    
                    {/* 编辑语音日记弹窗 */}
                    {showEditDiaryModal && currentEditDiary && (
                        <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-30">
                            <div className="bg-white rounded-lg shadow-lg w-[500px] p-6">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-lg font-medium">编辑语音日记</h2>
                                    <button onClick={closeEditDiaryModal} className="text-gray-500">
                                        <i className="fas fa-times"></i>
                                    </button>
                                </div>
                                
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">标题</label>
                                    <input 
                                        type="text" 
                                        className="w-full border rounded p-2" 
                                        defaultValue={currentEditDiary.title}
                                    />
                                </div>
                                
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">情绪标签</label>
                                    <select className="w-full border rounded p-2">
                                        <option>高兴</option>
                                        <option>平静</option>
                                        <option>忧伤</option>
                                        <option>激动</option>
                                    </select>
                                </div>
                                
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">语音录制</label>
                                    <div className="border rounded p-6 flex flex-col items-center justify-center">
                                        <div className="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center text-orange-500 mb-2">
                                            <i className="fas fa-microphone"></i>
                                        </div>
                                        <p className="text-gray-500 text-sm">点击开始录音</p>
                                    </div>
                                </div>
                                
                                <div className="mb-6">
                                    <label className="block text-sm mb-1">文字补充</label>
                                    <textarea 
                                        className="w-full border rounded p-2" 
                                        rows="4"
                                        defaultValue={currentEditDiary.content}
                                    ></textarea>
                                </div>
                                
                                <div className="flex justify-end gap-2">
                                    <button 
                                        onClick={closeEditDiaryModal}
                                        className="border border-gray-300 rounded px-4 py-2"
                                    >
                                        取消
                                    </button>
                                    <button className="bg-orange-500 text-white rounded px-4 py-2">
                                        保存
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>