<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>数字手账日历</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"></link>
  <style>
    body {
      font-family: 'Noto Sans SC', sans-serif;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState } = React;

    function App() {
      const [showAddModal, setShowAddModal] = useState(false);
      const [showEditModal, setShowEditModal] = useState(false);
      const [showDeleteModal, setShowDeleteModal] = useState(false);
      const [showStatsPeriodModal, setShowStatsPeriodModal] = useState(false);
      const [calendarData, setCalendarData] = useState([
        {
          id: 1,
          month: "五月",
          year: "2024",
          tasks: 12,
          completed: 8,
          completionRate: "67%",
          daysLeft: 3
        },
        {
          id: 2,
          month: "六月",
          year: "2024",
          tasks: 15,
          completed: 5,
          completionRate: "33%",
          daysLeft: 3
        },
        {
          id: 3,
          month: "七月",
          year: "2024",
          tasks: 10,
          completed: 3,
          completionRate: "30%",
          daysLeft: 3
        }
      ]);
      
      // Add calendar handling
      const handleAddCalendar = () => {
        setShowAddModal(true);
      };
      
      // Delete confirmation handling
      const handleDelete = () => {
        setShowDeleteModal(true);
      };
      
      // Confirm delete handling
      const handleConfirmDelete = () => {
        setShowDeleteModal(false);
        // Update the calendar data by removing the July calendar
        setCalendarData(calendarData.filter(cal => cal.id !== 3));
      };
      
      // Edit stats period handling
      const handleEditStatsPeriod = () => {
        setShowStatsPeriodModal(true);
      };

      return (
        <div className="min-h-screen bg-white">
          {/* Header */}
          <header className="bg-white border-b border-gray-200">
            <div className="container mx-auto px-4 py-2 flex items-center justify-between">
              <div className="flex items-center">
                <h1 className="text-xl font-bold text-blue-500">数字手账日历</h1>
                <nav className="ml-8">
                  <ul className="flex space-x-4">
                    <li className="text-blue-500 border-b-2 border-blue-500 pb-2 px-1">首页</li>
                    <li className="text-gray-500 px-1">我的手账</li>
                    <li className="text-gray-500 px-1">统计报表</li>
                    <li className="text-gray-500 px-1">帮助说明</li>
                  </ul>
                </nav>
              </div>
              <button className="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600">
                登录/注册
              </button>
            </div>
          </header>

          {/* Main Content */}
          <div className="container mx-auto px-4 py-4 flex">
            {/* Left Sidebar */}
            <div className="w-40 pr-4">
              <h2 className="text-sm text-gray-700 mb-2">操作菜单</h2>
              <div className="space-y-2">
                <button 
                  onClick={handleAddCalendar} 
                  className="w-full bg-blue-500 text-white rounded py-2 px-4 flex items-center"
                >
                  <i className="fas fa-calendar-alt mr-2"></i> 
                  <span>添加日程</span>
                </button>
                <button className="w-full bg-white text-gray-700 border border-gray-300 rounded py-2 px-4 flex items-center">
                  <i className="fas fa-file-import mr-2"></i>
                  <span>导入模板</span>
                </button>
                <button className="w-full bg-white text-gray-700 border border-gray-300 rounded py-2 px-4 flex items-center">
                  <i className="fas fa-paint-brush mr-2"></i>
                  <span>自定义主题配色</span>
                </button>
              </div>
              
              <div className="mt-64 bg-blue-50 p-3 rounded">
                <h3 className="text-blue-500 text-sm font-bold mb-1">小贴士</h3>
                <p className="text-xs text-gray-600">
                  添加日程后，可以在统计报表查看每周的计划完成情况，助您养成规律习惯。
                </p>
              </div>
            </div>

            {/* Main Calendar Area */}
            <div className="flex-1 px-4">
              <div className="mb-4">
                <h2 className="text-xl font-bold">我的手账日历</h2>
                <p className="text-sm text-gray-500">点击任意日历方块，即可快速编辑或添加手账日程。</p>
              </div>

              <div className="flex flex-wrap -mx-2">
                {/* Calendar Cards */}
                {calendarData.map(calendar => (
                  <div className="w-1/3 px-2 mb-4" key={calendar.id}>
                    <div className="bg-white rounded border border-gray-200 p-4">
                      <div className="flex justify-between items-center mb-3">
                        <h3 className="font-bold">{calendar.year}年{calendar.month}</h3>
                        <div className="flex">
                          <button className="text-blue-500 mr-2">
                            <i className="fas fa-pen"></i>
                          </button>
                          <button className="text-red-500" onClick={handleDelete}>
                            <i className="fas fa-trash"></i>
                          </button>
                        </div>
                      </div>
                      <div className="mb-2">
                        <div className="flex justify-between text-sm">
                          <span>待办事项：</span>
                          <span className="font-bold">{calendar.tasks}个</span>
                        </div>
                        <div className="flex justify-between text-sm">
                          <span>已完成：</span>
                          <span className="text-green-500">{calendar.completed}个</span>
                        </div>
                      </div>
                      <div className="mb-3">
                        <div className="bg-gray-200 h-2 rounded-full">
                          <div 
                            className="bg-blue-500 h-2 rounded-full" 
                            style={{width: calendar.completionRate}}
                          ></div>
                        </div>
                        <div className="text-right text-xs text-gray-500 mt-1">完成率: {calendar.completionRate}</div>
                      </div>
                      <div className="flex justify-between text-xs">
                        <span>剩余于 {calendar.daysLeft} 天后</span>
                        <a href="#" className="text-blue-500">查看详情 →</a>
                      </div>
                    </div>
                  </div>
                ))}

                {/* Add New Card */}
                <div className="w-1/3 px-2 mb-4">
                  <div className="border border-gray-300 border-dashed rounded p-4 h-full flex flex-col items-center justify-center cursor-pointer" onClick={handleAddCalendar}>
                    <div className="text-blue-500 mb-2">
                      <i className="fas fa-plus text-xl"></i>
                    </div>
                    <p className="text-blue-500 font-medium text-sm mb-1">添加新手账</p>
                    <p className="text-gray-400 text-xs text-center">点击创建新的月度手账日历</p>
                  </div>
                </div>
              </div>
            </div>

            {/* Right Sidebar */}
            <div className="w-72 bg-blue-50 p-4 rounded">
              <div className="flex justify-between items-center">
                <h2 className="text-lg font-bold">统计概览</h2>
                <button onClick={handleEditStatsPeriod} className="text-blue-500 text-sm">查看统计详情 →</button>
              </div>
              <p className="text-xs text-gray-600 mb-4">
                查看近期活动的计划完成情况，助你养成良好习惯。
              </p>

              <h3 className="text-sm font-medium mb-2">任务完成率</h3>
              <div className="mb-5">
                <img src="https://picsum.photos/id/1025/300/200" className="w-full h-32 object-cover rounded mb-2" alt="任务完成率图表" />
                <div className="flex justify-between text-xs">
                  <div className="flex items-center">
                    <span className="w-3 h-3 bg-blue-200 inline-block mr-1 rounded-full"></span>
                    <span>已完成 (67%)</span>
                  </div>
                  <div className="flex items-center">
                    <span className="w-3 h-3 bg-red-200 inline-block mr-1 rounded-full"></span>
                    <span>待办 (33%)</span>
                  </div>
                </div>
              </div>

              <h3 className="text-sm font-medium mb-2">近期任务趋势</h3>
              <div className="mb-5">
                <img src="https://picsum.photos/id/1039/300/200" className="w-full h-32 object-cover rounded mb-1" alt="近期任务趋势图" />
                <div className="text-xs text-gray-500 text-center">
                  过去7天内任务完成趋势
                </div>
              </div>

              <h3 className="text-sm font-medium mb-2">标签使用频次</h3>
              <div>
                <div className="flex justify-between items-center mb-1">
                  <span className="text-sm">工作</span>
                  <div className="flex items-center">
                    <div className="bg-gray-200 h-2 w-24 rounded-full mr-2">
                      <div className="bg-blue-500 h-2 rounded-full" style={{width: '75%'}}></div>
                    </div>
                    <span className="text-xs">75%</span>
                  </div>
                </div>
                <div className="flex justify-between items-center mb-1">
                  <span className="text-sm">学习</span>
                  <div className="flex items-center">
                    <div className="bg-gray-200 h-2 w-24 rounded-full mr-2">
                      <div className="bg-blue-400 h-2 rounded-full" style={{width: '60%'}}></div>
                    </div>
                    <span className="text-xs">60%</span>
                  </div>
                </div>
                <div className="flex justify-between items-center">
                  <span className="text-sm">生活</span>
                  <div className="flex items-center">
                    <div className="bg-gray-200 h-2 w-24 rounded-full mr-2">