<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>听歌识曲练习</title>
    <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"></link>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const App = () => {
            const [songs, setSongs] = useState([
                {
                    id: 1,
                    title: 'Shape of You',
                    artist: 'Ed Sheeran',
                    level: '中级',
                    duration: '30秒',
                    image: 'https://picsum.photos/id/26/200/200',
                },
                {
                    id: 2,
                    title: 'Blinding Lights',
                    artist: 'The Weeknd',
                    level: '初级',
                    duration: '20秒',
                    image: 'https://picsum.photos/id/27/200/200',
                },
                {
                    id: 3,
                    title: 'Bad Guy',
                    artist: 'Billie Eilish',
                    level: '高级',
                    duration: '45秒',
                    image: 'https://picsum.photos/id/28/200/200',
                }
            ]);
            
            const [showAddModal, setShowAddModal] = useState(false);
            const [showEditModal, setShowEditModal] = useState(false);
            const [showDeleteModal, setShowDeleteModal] = useState(false);
            const [currentSong, setCurrentSong] = useState(null);
            const [newSong, setNewSong] = useState({
                title: '',
                artist: '',
                level: '初级',
                duration: '30秒',
                image: 'https://picsum.photos/id/29/200/200'
            });

            const handleAddSong = () => {
                setShowAddModal(true);
            };

            const handleEditSong = (song) => {
                setCurrentSong(song);
                setShowEditModal(true);
            };

            const handleDeleteSong = (song) => {
                setCurrentSong(song);
                setShowDeleteModal(true);
            };

            const confirmDelete = () => {
                setSongs(songs.filter(s => s.id !== currentSong.id));
                setShowDeleteModal(false);
            };

            const handleSaveEdit = () => {
                setSongs(songs.map(song => {
                    if (song.id === currentSong.id) {
                        return currentSong;
                    }
                    return song;
                }));
                setShowEditModal(false);
            };

            const handleSaveNew = () => {
                const addedSong = {
                    ...newSong,
                    id: Date.now(),
                    level: '中级',
                    duration: '30秒'
                };
                setSongs([...songs, addedSong]);
                setShowAddModal(false);
                setNewSong({
                    title: '',
                    artist: '',
                    level: '初级',
                    duration: '30秒',
                    image: 'https://picsum.photos/id/29/200/200'
                });
            };

            return (
                <div className="flex h-screen bg-gray-100">
                    {/* Left Sidebar */}
                    <div className="w-32 bg-gradient-to-b from-blue-500 to-blue-600 text-white">
                        <div className="p-4 flex items-center">
                            <i className="fas fa-music mr-2"></i>
                            <span className="font-bold">听歌识曲练习</span>
                        </div>
                        <div className="mt-6">
                            <div className="px-4 py-2 bg-blue-700 flex items-center">
                                <i className="fas fa-list mr-2"></i>
                                <span>练习列表</span>
                            </div>
                            <div className="px-4 py-2 flex items-center">
                                <i className="fas fa-history mr-2"></i>
                                <span>我的记录</span>
                            </div>
                            <div className="px-4 py-2 flex items-center">
                                <i className="fas fa-chart-line mr-2"></i>
                                <span>排行榜</span>
                            </div>
                            <div className="px-4 py-2 flex items-center">
                                <i className="fas fa-cog mr-2"></i>
                                <span>设置</span>
                            </div>
                        </div>
                        <div className="absolute bottom-2 left-2 text-xs text-blue-200">
                            <div>©2024 听歌识曲平台</div>
                            <div>V3.0.1测试版</div>
                            <div>support@example.com</div>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="flex-1 flex flex-col">
                        {/* Top Navigation */}
                        <div className="bg-white border-b">
                            <div className="flex px-4">
                                <div className="border-b-2 border-yellow-500 px-4 py-3 text-sm font-medium">练习首页</div>
                                <div className="px-4 py-3 text-sm font-medium text-gray-600">曲库管理</div>
                                <div className="px-4 py-3 text-sm font-medium text-gray-600">使用教程</div>
                                <div className="flex-grow"></div>
                                <div className="py-3 text-sm text-gray-600">听歌识曲练习——快速提升你的音乐辨识力</div>
                            </div>
                        </div>

                        {/* Content Area */}
                        <div className="flex-1 overflow-auto">
                            <div className="flex">
                                {/* Song List */}
                                <div className="w-3/4 p-4">
                                    <div className="flex justify-between items-center mb-4">
                                        <h2 className="text-xl font-medium">我的曲目练习</h2>
                                        <button 
                                            className="bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded flex items-center"
                                            onClick={handleAddSong}
                                        >
                                            <span className="mr-1">+</span> 添加曲目练习
                                        </button>
                                    </div>

                                    {/* Song Cards */}
                                    <div className="space-y-3">
                                        {songs.map((song) => (
                                            <div key={song.id} className="bg-white rounded-md shadow-sm p-3 flex items-center">
                                                <img src={song.image} alt={song.title} className="w-16 h-16 rounded object-cover" />
                                                <div className="ml-4 flex-grow">
                                                    <div className="font-medium">{song.title}</div>
                                                    <div className="text-sm text-gray-600">{song.artist}</div>
                                                </div>
                                                <div className="text-xs px-2 py-1 rounded text-white" 
                                                     style={{backgroundColor: song.level === '初级' ? '#66bb6a' : song.level === '中级' ? '#ffb74d' : '#ef5350'}}>
                                                    {song.level}
                                                </div>
                                                <div className="ml-3 text-gray-500 text-sm">{song.duration}</div>
                                                <div className="ml-4 flex space-x-2">
                                                    <button className="bg-blue-500 text-white px-2 py-1 rounded text-xs flex items-center">
                                                        <i className="fas fa-play mr-1"></i> 播放试听
                                                    </button>
                                                    <button className="border border-gray-300 text-gray-600 px-2 py-1 rounded text-xs flex items-center">
                                                        <i className="fas fa-list mr-1"></i> 详情
                                                    </button>
                                                    <button 
                                                        className="border border-gray-300 text-gray-600 px-2 py-1 rounded text-xs flex items-center"
                                                        onClick={() => handleEditSong(song)}
                                                    >
                                                        <i className="fas fa-edit mr-1"></i> 编辑
                                                    </button>
                                                    <button 
                                                        className="border border-gray-300 text-gray-600 px-2 py-1 rounded text-xs flex items-center"
                                                        onClick={() => handleDeleteSong(song)}
                                                    >
                                                        <i className="fas fa-trash mr-1"></i> 删除
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    <div className="mt-20 border-t pt-4">
                                        <h3 className="font-medium mb-2">使用指引</h3>
                                        <ul className="text-sm text-gray-600 space-y-1">
                                            <li>• 点击★试听 30s 片段</li>
                                            <li>• 根据旋律记忆正确答案</li>
                                            <li>• 实时查看对错并解析</li>
                                            <li>• 练习过程中可随时修改你的答案和案例。</li>
                                        </ul>
                                    </div>
                                </div>

                                {/* Right Sidebar */}
                                <div className="w-1/4 p-4 border-l">
                                    <div className="mb-6">
                                        <h3 className="font-medium text-gray-700 mb-4">练习统计</h3>
                                        <div className="bg-white p-3 rounded-md shadow-sm">
                                            <div className="flex justify-between mb-2">
                                                <span className="text-sm text-gray-500">已练歌曲数</span>
                                                <span className="text-lg font-medium text-blue-600">128</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span className="text-sm text-gray-500">正确率</span>
                                                <span className="text-lg font-medium text-orange-500">85%</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="mb-6">
                                        <div className="text-sm text-gray-500 mb-2">近7日答题趋势</div>
                                        <div className="flex justify-between items-end h-20">
                                            <div className="w-6 bg-gray-200 rounded-t" style={{height: '20%'}}></div>
                                            <div className="w-6 bg-gray-200 rounded-t" style={{height: '40%'}}></div>
                                            <div className="w-6 bg-blue-500 rounded-t" style={{height: '70%'}}></div>
                                            <div className="w-6 bg-gray-200 rounded-t" style={{height: '50%'}}></div>
                                            <div className="w-6 bg-gray-200 rounded-t" style={{height: '60%'}}></div>
                                            <div className="w-6 bg-gray-200 rounded-t" style={{height: '80%'}}></div>
                                            <div className="w-6 bg-gray-200 rounded-t" style={{height: '75%'}}></div>
                                        </div>
                                        <div className="flex justify-between text-xs text-gray-500 mt-1">
                                            <div>一</div>
                                            <div>二</div>
                                            <div>三</div>
                                            <div>四</div>
                                            <div>五</div>
                                            <div>六</div>
                                            <div>日</div>
                                        </div>
                                    </div>

                                    <div className="bg-yellow-50 p-3 rounded-md border border-yellow-100 mb-6">
                                        <div className="flex items-start">
                                            <span className="text-yellow-500 mr-2">
                                                <i className="fas fa-crown"></i>
                                            </span>
                                            <div>
                                                <div className="text-sm text-yellow-800">已连续练习 3 天，赶紧高级曲目吧！</div>
                                            </div>
                                        </div>
                                        <div className="text-xs text-gray-500 mt-2">Tip：多样曲风练习可极大扩展你的曲库！</div>
                                    </div>

                                    <div className="mb-4">
                                        <img src="https://picsum.photos/id/25/400/200" alt="每日音乐推荐" className="w-full h-32 object-cover rounded-md" />
                                        <div className="text-center text-sm mt-1 text-gray-600">每日新乐推荐</div>
                                    </div>

                                    <div className="flex justify-around mt-8">
                                        <div className="text-center">
                                            <div className="w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center mx-auto">
                                                <i className="fas fa-chart-line text-blue-500"></i>
                                            </div>
                                            <div className="text-xs mt-1">实时反馈</div>
                                        </div>
                                        <div className="text-center">
                                            <div className="w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center mx-auto">
                                                <i className="fas fa-layer-group text-blue-500"></i>
                                            </div>
                                            <div className="text-xs mt-1">分级练习</div>
                                        </div>
                                        <div className="text-center">
                                            <div className="w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center mx-auto">
                                                <i className="fas fa-chart-pie text-blue-500"></i>
                                            </div>
                                            <div className="text-xs mt-1">可视化统计</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* Add Song Modal */}
                    {showAddModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
                            <div className="bg-white rounded-md w-96 p-6">
                                <h2 className="text-xl font-medium mb-4">新增听歌识曲练习</h2>
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">歌曲名</label>
                                    <input 
                                        type="text" 
                                        className="border rounded w-full p-2"
                                        placeholder="输入歌曲名称"
                                        value={newSong.title}
                                        onChange={(e) => setNewSong({...newSong, title: e.target.value})}
                                    />
                                </div>
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">艺术家</label>
                                    <input 
                                        type="text" 
                                        className="border rounded w-full p-2"
                                        placeholder="输入艺术家名称"
                                        value={newSong.artist}
                                        onChange={(e) => setNewSong({...newSong, artist: e.target.value})}
                                    />
                                </div>
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">难度</label>
                                    <div className="relative">
                                        <select className="border rounded w-full p-2 appearance-none bg-white">
                                            <option>初级</option>
                                            <option selected>中级</option>
                                            <option>高级</option>
                                        </select>
                                        <div className="absolute right-3 top-3 pointer-events-none">
                                            <i className="fas fa-chevron-down text-gray-400"></i>
                                        </div>
                                    </div>
                                </div>
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">时长: {newSong.duration}</label>
                                    <div className="flex items-center">
                                        <span className="text-xs mr-2">10秒</span>
                                        <input type="range" min="10" max="60" defaultValue="30" className="flex-grow" />
                                        <span className="text-xs ml-2">60秒</span>
                                    </div>
                                </div>
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">预览图</label>
                                    <div className="border rounded p-1">
                                        <img src="https://picsum.photos/id/29/400/200" alt="预览" className="w-full h-16 object-cover" />
                                    </div>
                                </div>
                                <div className="flex justify-end mt-6 space-x-2">
                                    <button 
                                        className="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded"
                                        onClick={() => setShowAddModal(false)}
                                    >
                                        取消
                                    </button>
                                    <button 
                                        className="px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded"
                                        onClick={handleSaveNew}
                                    >
                                        确认保存
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Edit Song Modal */}
                    {showEditModal && currentSong && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
                            <div className="bg-white rounded-md w-96 p-6">
                                <h2 className="text-xl font-medium mb-4">编辑曲目练习</h2>
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">歌曲名</label>
                                    <input 
                                        type="text" 
                                        className="border rounded w-full p-2"
                                        value={currentSong.title}
                                        readOnly
                                    />
                                </div>
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">艺术家</label>
                                    <input 
                                        type="text" 
                                        className="border rounded w-full p-2"
                                        value={currentSong.artist}
                                        readOnly
                                    />
                                </div>
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">难度</label>
                                    <div className="relative">
                                        <select className="border rounded w-full p-2 appearance-none bg-white" defaultValue={currentSong.level}>
                                            <option>初级</option>
                                            <option>中级</option>
                                            <option>高级</option>
                                        </select>
                                        <div className="absolute right-3 top-3 pointer-events-none">
                                            <i className="fas fa-chevron-down text-gray-400"></i>
                                        </div>
                                    </div>
                                </div>
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">时长: {currentSong.duration}</label>
                                    <div className="flex items-center">
                                        <span className="text-xs mr-2">10秒</span>
                                        <input type="range" min="10" max="60" defaultValue="30" className="flex-grow" />
                                        <span className="text-xs ml-2">60秒</span>
                                    </div>
                                </div>
                                <div className="mb-4">
                                    <label className="block text-sm mb-1">预览图</label>
                                    <div className="border rounded p-1">
                                        <img src={currentSong.image} alt="预览" className="w-full h-16 object-cover" />
                                    </div>
                                </div>
                                <div className="flex justify-end mt-6 space-x-2">
                                    <button 
                                        className="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded"
                                        onClick={() => setShowEditModal(false)}
                                    >
                                        取消
                                    </button>
                                    <button 
                                        className="px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded"
                                        onClick={handleSaveEdit}
                                    >
                                        保存修改
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Delete Confirmation Modal */}
                    {showDeleteModal && currentSong && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
                            <div className="bg-white rounded-md p-6 w-80">
                                <h2 className="text-lg font-medium mb-4">删除确认</h2>
                                <p className="text-gray-600">确定要删除"{currentSong.title}"这个练习吗?</p>
                                <div className="flex justify-end mt-6 space-x-2">
                                    <button 
                                        className="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded"
                                        onClick={() => setShowDeleteModal(false)}
                                    >
                                        取消
                                    </button>
                                    <button 
                                        className="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded"
                                        onClick={confirmDelete}
                                    >
                                        确定删除
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>