<html>
<head>
  <meta charset="UTF-8" />
  <title>数字手账日历</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
  <style>body { font-family: 'Inter', sans-serif; }</style>
</head>
<body class="bg-gray-50">
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;

    function App() {
      const initialMonths = [
        { id: '2024-05', name: '2024年五月', todo: 12, done: 8, doneRate: 67 },
        { id: '2024-06', name: '2024年六月', todo: 15, done: 5, doneRate: 33 },
        { id: '2024-07', name: '2024年七月', todo: 10, done: 3, doneRate: 30 }
      ];
      const [months, setMonths] = useState(initialMonths);
      const [showAddModal, setShowAddModal] = useState(false);
      const [showEditModal, setShowEditModal] = useState(false);
      const [showDeleteModal, setShowDeleteModal] = useState(false);
      const [showStatsModal, setShowStatsModal] = useState(false);
      const [selectedMonth, setSelectedMonth] = useState(null);

      function openAddModal() {
        setShowAddModal(true);
      }
      function closeAddModal() {
        setShowAddModal(false);
      }
      function openEditModal(month) {
        setSelectedMonth(month);
        setShowEditModal(true);
      }
      function closeEditModal() {
        setShowEditModal(false);
      }
      function openDeleteModal(month) {
        setSelectedMonth(month);
        setShowDeleteModal(true);
      }
      function closeDeleteModal() {
        setShowDeleteModal(false);
      }
      function confirmDelete() {
        setMonths(months.filter(m => m.id !== selectedMonth.id));
        setShowDeleteModal(false);
      }
      function openStatsModal() {
        setShowStatsModal(true);
      }
      function closeStatsModal() {
        setShowStatsModal(false);
      }
      function applyStatsCycle() {
        // no actual data change
        setShowStatsModal(false);
      }

      return (
        <div className="min-h-screen flex flex-col">
          {/* header */}
          <header className="bg-white shadow-sm">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="flex justify-between h-16 items-center">
                <div className="flex items-center">
                  <span className="text-blue-600 font-bold text-xl">数字手账日历</span>
                  <nav className="ml-8 space-x-4">
                    <a href="#" className="text-gray-900 font-medium border-b-2 border-blue-600 pb-1">首页</a>
                    <a href="#" className="text-gray-500 hover:text-gray-700">我的手账</a>
                    <a href="#" className="text-gray-500 hover:text-gray-700">统计报表</a>
                    <a href="#" className="text-gray-500 hover:text-gray-700">帮助说明</a>
                  </nav>
                </div>
                <div>
                  <button className="bg-blue-600 text-white px-4 py-2 rounded">登录/注册</button>
                </div>
              </div>
            </div>
          </header>
          {/* body */}
          <div className="flex flex-1">
            {/* left menu */}
            <aside className="w-64 bg-white border-r">
              <div className="p-6">
                <h3 className="text-gray-700 mb-4">操作菜单</h3>
                <button onClick={openAddModal} className="w-full text-left bg-blue-50 text-blue-600 px-4 py-2 rounded flex items-center mb-2">
                  <i className="fas fa-plus mr-2"></i> 添加日程
                </button>
                <button className="w-full text-left bg-white border px-4 py-2 rounded flex items-center mb-2 hover:bg-gray-50">
                  <i className="fas fa-file-import mr-2"></i> 导入模版
                </button>
                <button className="w-full text-left bg-white border px-4 py-2 rounded flex items-center hover:bg-gray-50">
                  <i className="fas fa-palette mr-2"></i> 自定义主题颜色
                </button>
              </div>
              <div className="px-6 mt-6 bg-blue-50 p-4 rounded text-sm text-gray-600">
                小贴士<br/>
                添加日程后，可以在统计区查看各自的计划完成情况，助您养成高效习惯。
              </div>
            </aside>
            {/* main content */}
            <main className="flex-1 p-6">
              <h2 className="text-xl font-semibold mb-4">我的手账日历</h2>
              <p className="text-gray-500 mb-6">点击任意月份卡片，即可快速编辑或删除该月日程。</p>
              <div className="grid grid-cols-3 gap-6">
                {months.map(month => (
                  <div key={month.id} className="bg-white rounded shadow p-4 relative">
                    <div className="flex justify-between items-center mb-2">
                      <span className="font-medium text-gray-800">{month.name}</span>
                      <div className="space-x-2">
                        <button onClick={() => openEditModal(month)}><i className="fas fa-edit text-gray-500 hover:text-gray-700"></i></button>
                        <button onClick={() => openDeleteModal(month)}><i className="fas fa-trash-alt text-red-500 hover:text-red-700"></i></button>
                      </div>
                    </div>
                    <div className="flex justify-between text-sm text-gray-600 mb-2">
                      <span>待办事项: {month.todo}个</span>
                      <span>已完成: {month.done}个</span>
                    </div>
                    <div className="h-2 bg-gray-200 rounded mb-2">
                      <div className="h-2 bg-blue-600 rounded" style={{ width: month.doneRate + '%' }}></div>
                    </div>
                    <div className="flex justify-between text-sm text-gray-500">
                      <span>完成率: {month.doneRate}%</span>
                      <a href="#" className="text-blue-600">查看详情 →</a>
                    </div>
                    <div className="text-xs text-gray-400 mt-4">更新于 3 天前</div>
                  </div>
                ))}
                {/* add new card */}
                <div onClick={() => {}} className="border-2 border-dashed border-gray-300 rounded flex flex-col items-center justify-center text-gray-400 cursor-pointer hover:border-blue-400 hover:text-blue-600">
                  <i className="fas fa-plus text-2xl mb-2"></i>
                  <span>添加新手账<br/>点击创建新的月度手账日历</span>
                </div>
              </div>
            </main>
            {/* right panel */}
            <aside className="w-80 bg-white border-l p-6 space-y-6">
              <div>
                <div className="flex justify-between items-center mb-2">
                  <h3 className="text-gray-700 font-medium">统计概览</h3>
                  <button onClick={openStatsModal}><i className="fas fa-edit text-gray-400 hover:text-gray-600"></i> 编辑统计周期</button>
                </div>
                <p className="text-gray-500 text-sm mb-4">呈现您账簿内的计划完成情况，助你养成高效习惯。</p>
                <div className="bg-gray-50 p-4 rounded text-center">
                  <img src="https://picsum.photos/id/1025/200/200" alt="stats" className="mx-auto rounded-full mb-4" />
                  <div className="flex justify-center items-center text-sm text-gray-600">
                    <span className="inline-block w-3 h-3 bg-blue-600 rounded-full mr-2"></span>已完成 (67%)
                    <span className="inline-block w-3 h-3 bg-gray-300 rounded-full ml-4 mr-2"></span>待办 (33%)
                  </div>
                </div>
              </div>
              <div>
                <h4 className="text-gray-700 font-medium mb-2">近期任务趋势</h4>
                <img src="https://picsum.photos/id/1018/300/150" alt="trend" className="rounded w-full" />
                <p className="text-gray-500 text-sm mt-2">过去7天内任务完成趋势</p>
              </div>
              <div>
                <h4 className="text-gray-700 font-medium mb-2">标签使用频次</h4>
                <div className="space-y-3">
                  <div>
                    <div className="flex justify-between text-sm text-gray-600 mb-1"><span>工作</span><span>75%</span></div>
                    <div className="h-2 bg-gray-200 rounded"><div className="h-2 bg-blue-600 rounded" style={{ width: '75%' }}></div></div>
                  </div>
                  <div>
                    <div className="flex justify-between text-sm text-gray-600 mb-1"><span>学习</span><span>60%</span></div>
                    <div className="h-2 bg-gray-200 rounded"><div className="h-2 bg-green-500 rounded" style={{ width: '60%' }}></div></div>
                  </div>
                  <div>
                    <div className="flex justify-between text-sm text-gray-600 mb-1"><span>生活</span><span>45%</span></div>
                    <div className="h-2 bg-gray-200 rounded"><div className="h-2 bg-yellow-500 rounded" style={{ width: '45%' }}></div></div>
                  </div>
                </div>
              </div>
            </aside>
          </div>
          {/* footer */}
          <footer className="text-center text-gray-500 text-sm py-4">
            © 2024 数字手账日历 | 版本 v1.0.3<br/>
            首次使用？点击帮助中心，马上开启你的数字手账之旅。 <a href="#" className="text-blue-600">帮助中心</a> | <a href="#" className="text-blue-600">联系我们</a>
          </footer>

          {/* Add Modal */}
          {showAddModal && (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
              <div className="bg-white p-6 rounded shadow-lg w-96">
                <div className="flex justify-between items-center mb-4">
                  <h3 className="text-lg font-medium">添加新日程</h3>
                  <button onClick={closeAddModal}><i className="fas fa-times text-gray-500"></i></button>
                </div>
                <div className="space-y-4">
                  <div>
                    <label className="block text-sm text-gray-600 mb-1">日期</label>
                    <input type="date" className="w-full border px-3 py-2 rounded" placeholder="mm/dd/yyyy" />
                  </div>
                  <div>
                    <label className="block text-sm text-gray-600 mb-1">时间</label>
                    <input type="time" className="w-full border px-3 py-2 rounded" placeholder="--:--" />
                  </div>
                  <div>
                    <label className="block text-sm text-gray-600 mb-1">标签</label>
                    <select className="w-full border px-3 py-2 rounded">
                      <option>选择标签</option>
                      <option>工作</option>
                      <option>学习</option>
                      <option>生活</option>
                    </select>
                  </div>
                  <div>
                    <label className="block text-sm text-gray-600 mb-1">内容</label>
                    <textarea className="w-full border px-3 py-2 rounded" rows="3" placeholder="请输入日程内容..."></textarea>
                  </div>
                </div>
                <div className="mt-6 flex justify-end space-x-2">
                  <button onClick={closeAddModal} className="px-4 py-2 border rounded text-gray-600">取消</button>
                  <button onClick={closeAddModal} className="px-4 py-2 bg-blue-600 text-white rounded">保存</button>
                </div>
              </div>
            </div>
          )}

          {/* Edit Modal */}
          {showEditModal && selectedMonth && (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
              <div className="bg-white p-6 rounded shadow-lg w-96">
                <div className="flex justify-between items-center mb-4">
                  <h3 className="text-lg font-medium">编辑日程</h3>
                  <button onClick={closeEditModal}><i className="fas fa-times text-gray-500"></i></button>
                </div>
                <div className="space-y-4">
                  <div>
                    <label className="block text-sm text-gray-600 mb-1">日期</label>
                    <input type="date" className="w-full border px-3 py-2 rounded" />
                  </div>
                  <div>
                    <label className="block text-sm text-gray-600 mb-1">时间</label>
                    <input type="time" className="w-full border px-3 py-2 rounded" defaultValue="09:00" />
                  </div>
                  <div>
                    <label className="block text-sm text-gray-600 mb-1">标签</label>
                    <select className="w-full border px-3 py-2 rounded" defaultValue="工作">
                      <option>工作</option>
                      <option>学习</option>
                      <option>生活</option>
                    </select>
                  </div>
                  <div>
                    <label className="block text-sm text-gray-600 mb-1">内容</label>
                    <textarea className="w-full border px-3 py-2 rounded" rows="3" defaultValue={`${selectedMonth.name}的日程安排`}></textarea>
                  </div>
                </div>
                <div className="mt-6 flex justify-end space-x-2">
                  <button onClick={closeEditModal} className="px-4 py-2 border rounded text-gray-600">取消</button>
                  <button onClick={closeEditModal} className="px-4 py-2 bg-blue-600 text-white rounded">保存更改</button>
                </div>
              </div>
            </div>
          )}

          {/* Delete Confirm Modal */}
          {showDeleteModal && selectedMonth && (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
              <div className="bg-white p-6 rounded shadow-lg w-96">
                <div className="text-center mb-4">
                  <i className="fas fa-exclamation-triangle text-red-500 text-3xl"></i>
                </div>
                <h3 className="text-center text-lg font-medium mb-2">确认删除</h3>
                <p className="text-center text-gray-600 mb-6">确认删除{selectedMonth.name}的手账？此操作无法撤销。</p>
                <div className="flex justify-center space-x-4">
                  <button onClick={closeDeleteModal} className="px-4 py-2 border rounded text-gray-600">取消</button>
                  <button onClick={confirmDelete} className="px-4 py-2 bg-red-600 text-white rounded">确认删除</button>
                </div>
              </div>
            </div>
          )}

          {/* Edit Stats Cycle Modal */}
          {showStatsModal && (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
              <div className="bg-white p-6 rounded shadow-lg w-96">
                <div className="flex justify-between items-center mb-4">
                  <h3 className="text-lg font-medium">编辑统计周期</h3>
                  <button onClick={closeStatsModal}><i className="fas fa-times text-gray-500"></i></button>
                </div>
                <div className="space-y-4">
                  <div>
                    <label className="block text-sm text-gray-600 mb-1">开始日期</label>
                    <input type="date" className="w-full border px-3 py-2 rounded" defaultValue="2024-05-01" />
                  </div>
                  <div>
                    <label className="block text-sm text-gray-600 mb-1">结束日期</label>
                    <input type="date" className="w-full border px-3 py-2 rounded" defaultValue="2024-05-31" />
                  </div>
                </div>
                <div className="mt-6 flex justify-end space-x-2">
                  <button onClick={closeStatsModal} className="px-4 py-2 border rounded text-gray-600">关闭</button>
                  <button onClick={applyStatsCycle} className="px-4 py-2 bg-blue-600 text-white rounded">应用</button>
                </div>
              </div>
            </div>
          )}
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>